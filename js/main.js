!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(26),e.exports=n(25)},function(e,t){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){e.parentElement.removeChild(e)}function i(e,t){var n=Array.from(document.querySelectorAll("."+e+"."+t));n.forEach(function(e){e.classList.remove(t)})}function o(e,t){for(;e;){var n=e.getAttribute(t);if(n)return{elementRef:e,attrValue:n};e=e.parentElement}}function a(e,t){var n=document.getElementById(t);return!!n&&!n.contains(e)}function s(e){var t=e%60;return t<10?"0"+t:t}function c(e){var t=Math.floor(e/60%60);return e>=3600&&t<10?"0"+t:t}function l(e){var t=Math.floor(e/3600);return e>=3600?t+":":""}function u(e){var t=s(e),n=c(e),r=l(e);return""+r+n+":"+t}function d(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e){return t.includes(e.src)?Promise.resolve():new Promise(function(n){var r=document.createElement("script");Object.keys(e).forEach(function(t){r.setAttribute(t,e[t])}),document.getElementsByTagName("body")[0].appendChild(r),t.push(e.src),r.onload=n})}var t=[];return{load:e}}();t.scriptLoader=f,t.capitalize=n,t.getElementByAttr=o,t.removeElement=r,t.removeElementClass=i,t.formatTime=u,t.isOutsideElement=a,t.dispatchEvent=d},function(e,t){"use strict";function n(){return w}function r(e){return w[e]}function i(e){return w[e.id]=Object.assign({sortedBy:"",order:0,shuffled:!1,tracks:[],playbackIndex:0,playbackOrder:[]},e,{rendered:!1}),w[e.id]}function o(e){delete w[e]}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";P=e}function s(){return P}function c(e){return e===P}function l(){return w[P]}function u(e){return e?Object.assign({},e):null}function d(e){x=u(e)}function f(){return x}function v(e){x.index=e}function p(e,t){var n=r(e),i=n?n.tracks.find(function(e){return e.name===t}):null;return u(i)}function m(e){var t=l();t.playbackIndex=t.playbackOrder.indexOf(Number.parseInt(e,10))}function y(){var e=f();e&&m(e.index)}function g(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t);t-=1;var r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}function h(e,t){var n=e.map(function(e){return e.index});return t?g(n):n}function b(e,t){e.shuffled=t,e.playbackOrder=h(e.tracks,t),y()}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.playbackIndex+=t,e.playbackIndex>=e.playbackOrder.length?e.playbackIndex=0:e.playbackIndex===-1&&(e.playbackIndex=e.playbackOrder.length-1),e.playbackOrder[e.playbackIndex]}function T(e,t){var n=k(e,t);return u(e.tracks[n])}function E(e){return e.map(function(e,t){return e.index=t,e})}Object.defineProperty(t,"__esModule",{value:!0});var w={},P="",x=null;t.setPlaylistAsActive=a,t.getPlaylistById=r,t.removePlaylist=o,t.getAllPlaylists=n,t.createPlaylist=i,t.isActive=c,t.getActivePlaylist=l,t.getActivePlaylistId=s,t.getTrack=u,t.setCurrentTrack=d,t.getCurrentTrack=f,t.updateCurrentTrackIndex=v,t.findTrack=p,t.getNextTrack=T,t.setPlaybackIndex=m,t.shufflePlaybackOrder=b,t.resetTrackIndexes=E},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){w.shufflePlaybackOrder(e,(0,I.getSetting)("shuffle")),e.sortedBy&&((0,O.sortTracks)(e.tracks,e.sortedBy,e.order),e.rendered&&l(e))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.isActive("manage"),n="playlist/"+e.id;T.add(n),(0,S.createSidebarEntry)(e.title,e.id),(0,M.createPlaylistEntry)(e.title,e.id,e.url),o(e),t&&T.toggle(n)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.isActive("manage"),r="playlist/"+e.id;e.tracks=w.resetTrackIndexes(e.tracks),x.append(e,t),o(e),n?T.toggle(r):(0,j.dispatchEvent)("track-length-change",e.tracks)}function c(e){var t=A.storedTrack.get();t&&t.playlistId===e&&A.storedTrack.remove(),w.isActive(e)&&(0,A.stopPlayer)(),w.removePlaylist(e),(0,S.removeSidebarEntry)(e),x.remove(e),(0,B.postMessageToWorker)({action:"remove",playlistId:e})}function l(e){var t=w.getCurrentTrack();if((0,j.removeElementClass)("track","selected"),x.update(e),t&&w.isActive(e.id)){var n=w.findTrack(e.id,t.name);n&&(w.updateCurrentTrackIndex(n.index),w.setPlaybackIndex(n.index),x.showPlayingTrack(n.index,e.id,!0))}}function u(e,t,n){var r;(r=e.tracks).push.apply(r,i(t)),e.rendered?s(e,t):a(e),(0,C.removeImportOptionMask)(n),(0,B.postMessageToWorker)({action:"put",playlist:e})}function d(e){return e.map(function(e){return Number.parseInt(e.getAttribute("data-index"),10)})}function f(e){e.forEach(function(e){(0,j.removeElement)(e)})}function v(e){e.forEach(function(e,t){e.setAttribute("data-index",t)})}function p(e,t){var n=e.tracks.filter(function(e){return!t.includes(e.index)});return w.resetTrackIndexes(n)}function m(e,t){var n=w.getCurrentTrack();if(n&&w.isActive(e))if(t.includes(n.index))w.updateCurrentTrackIndex(-1);else{var r=w.findTrack(e,n.name),i=r.index;w.updateCurrentTrackIndex(i)}}function y(){return Array.from(document.querySelectorAll(".track.selected"))}function g(e){var t=y();if(t.length){var n=d(t);f(t),v(Array.from(document.getElementById("js-"+e.id).children)),e.tracks=p(e,n),w.shufflePlaybackOrder(e,(0,I.getSetting)("shuffle")),m(e.id,n),(0,j.dispatchEvent)("track-length-change",e.tracks),(0,B.postMessageToWorker)({action:"put",playlist:e})}}function h(e){var t=e.target,n=w.createPlaylist({id:Math.random().toString(36).slice(2),title:t.title.value,type:"list"});a(n),(0,B.postMessageToWorker)({action:"put",playlist:n}),e.preventDefault(),t.reset()}function b(e,t,n){var r='\n        <form id="js-'+e+'-form" class="'+e+'-form">\n            <input type="text" name="title" autocomplete="off" required>\n            <button class="btn">Create</button>\n        </form>\n    ';t.insertAdjacentHTML("afterend",r),document.getElementById("js-"+e+"-form").addEventListener("submit",n)}Object.defineProperty(t,"__esModule",{value:!0}),t.createNewPlaylistInputForm=t.onNewPlaylistFormSubmit=t.getSelectedTrackElements=t.getSelectedTrackIndexes=t.updatePlaylist=t.refreshPlaylist=t.removePlaylist=t.appendToPlaylist=t.initPlaylist=void 0;var k=n(16),T=r(k),E=n(2),w=r(E),P=n(8),x=r(P),I=n(13),L=n(6),j=n(1),B=n(7),S=n(9),A=n(4),O=n(12),M=n(22),C=n(5);window.addEventListener("keypress",function(e){var t="Delete"===e.key||127===e.keyCode,n=w.getPlaylistById((0,L.getVisiblePlaylistId)());t&&n&&g(n)}),t.initPlaylist=a,t.appendToPlaylist=s,t.removePlaylist=c,t.refreshPlaylist=l,t.updatePlaylist=u,t.getSelectedTrackIndexes=d,t.getSelectedTrackElements=y,t.onNewPlaylistFormSubmit=h,t.createNewPlaylistInputForm=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){var n=(0,T.getVisiblePlaylistId)();(0,w.showTrackInfo)(e),j.showTrackDuration(e.duration),n===e.playlistId&&e.index!==-1&&(0,P.showPlayingTrack)(e.index,e.playlistId,t),t=!1}function o(e){var t=I.getCurrentTrack(),n={currentTime:e,duration:t.durationInSeconds};_=!1,i(t,R),(0,w.showActiveIcon)(t.playlistId),j.togglePlayBtn(_),V.saveTrack({playlistId:t.playlistId,name:t.name,player:t.player}),j.elapsedTime.start(n)}function a(e){"native"===e.player?S.togglePlaying(_,e):"youtube"===e.player?O.togglePlaying(_):"soundcloud"===e.player&&C.togglePlaying(_),_||((0,w.removeActiveIcon)(),j.elapsedTime.stop(),j.togglePlayBtn(!_)),_=!_}function s(e,t){var n=(0,E.getSetting)("volume");I.setPlaybackIndex(e.index),"native"===e.player?S.playTrack(e,n,t):"youtube"===e.player?O.playTrack(e,n,t):"soundcloud"===e.player&&C.playTrack(e,n,t)}function c(e,t){var n=(0,T.getVisiblePlaylistId)();n&&(I.setPlaylistAsActive(n),d(e,t))}function l(){var e=I.getCurrentTrack();return e?void a(e):void c("direction")}function u(e,t,n){var r=null;return"index"===t?r=I.getTrack(e.tracks[n]):"direction"===t&&(r=I.getNextTrack(e,n),R=!0),r?void s(r):void y()}function d(e,t){var n=I.getCurrentTrack(),r=I.getActivePlaylistId();if(r){var i=I.getPlaylistById(r),o=(0,E.getSetting)("shuffle");n&&p(n),i.shuffled!==o&&I.shufflePlaybackOrder(i,o),u(i,e,t)}}function f(){d("direction",1)}function v(){d("direction",-1)}function p(e,t){t||"native"!==e.player?"youtube"===e.player?O.stopTrack():"soundcloud"===e.player&&C.stopTrack():S.stopTrack(e)}function m(e){var t=I.getCurrentTrack();t&&p(t,e),y(e)}function y(e){e||(I.setCurrentTrack(),I.setPlaylistAsActive(),(0,w.showTrackInfo)()),_=!0,j.resetTrackBar(),j.showTrackDuration(),j.togglePlayBtn(_),(0,w.removeActiveIcon)(),(0,k.removeElementClass)("track","playing")}function g(e){var t=I.getActivePlaylist();t&&I.shufflePlaybackOrder(t,e)}function h(e,t){"native"===e.player?S.setVolume(t,e):"youtube"===e.player?O.setVolume(t):"soundcloud"===e.player&&C.setVolume(t)}function b(e,t){var n=Math.floor(e.durationInSeconds/100*t);j.elapsedTime.stop(),"native"===e.player?S.seekTo(n,e):"youtube"===e.player?O.seekTo(n):"soundcloud"===e.player&&C.seekTo(n),j.displayCurrentTime(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.storedTrack=t.onTrackStart=t.setVolume=t.seekTo=t.toggleShuffle=t.stopPlayer=t.playPreviousTrack=t.playNextTrack=t.playTrack=void 0;var k=n(1),T=n(6),E=n(13),w=n(9),P=n(8),x=n(2),I=r(x),L=n(18),j=r(L),B=n(19),S=r(B),A=n(21),O=r(A),M=n(20),C=r(M),_=!0,R=!1,V=function(){function e(){return JSON.parse(localStorage.getItem("track"))||{}}function t(e){localStorage.setItem("track",JSON.stringify(e))}function n(n){var r=Object.assign(e(),n);t(r)}function r(){localStorage.removeItem("track")}function o(){var t=e();if(t){var n=I.findTrack(t.playlistId,t.name);if(!n)return void r();I.setPlaylistAsActive(t.playlistId),j.setTrackBarInnerWidth(t.elapsed),j.displayCurrentTime(t.currentTime),i(n),s(n,t.currentTime)}}return{get:e,remove:r,saveTrack:t,updateSavedTrack:n,initTrack:o}}();document.getElementById("js-tab-container").addEventListener("dblclick",function(e){var t=e.target,n=(0,k.getElementByAttr)(t,"data-index");n&&c("index",n.attrValue)}),window.addEventListener("track-end",function(){return(0,E.getSetting)("once")?void m(!0):(0,E.getSetting)("repeat")?void s(I.getCurrentTrack()):void f()}),t.playTrack=l,t.playNextTrack=f,t.playPreviousTrack=v,t.stopPlayer=m,t.toggleShuffle=g,t.seekTo=b,t.setVolume=h,t.onTrackStart=o,t.storedTrack=V},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";A=e}function s(e){return A!==e}function c(e){var t=Array.from(document.querySelectorAll("[data-option-id*="+e+"]"));t.forEach(function(t){t.parentElement.insertAdjacentHTML("beforeend",'\n            <div class="option-mask" data-mask-id='+e+'>\n                <span class="icon-spin4 animate-spin"></span>\n            </div>\n        ')})}function l(e){var t=Array.from(document.querySelectorAll("[data-mask-id*="+e+"]"));t.forEach(function(e){(0,E.removeElement)(e)})}function u(e,t){var n=Array.from(document.querySelectorAll("[data-mask-id*="+e+"]"));n.forEach(function(e){var n=e.children[0];(0,E.removeElement)(n),e.insertAdjacentHTML("beforeend","<span>"+t+"</span>")}),setTimeout(function(){l(e)},3200)}function d(e){e.includes("youtube")?j.fetchPlaylist(e):e.includes("soundcloud")&&S.fetchPlaylist(e)}function f(e,t){return e.reduce(function(e,n){var r=t.some(function(e){return e.name===n.name});return r||e.push(n),e},[])}function v(e){return e.length?new Promise(function(t){var n=0;e.forEach(function(r){var i=new Image;i.onload=function(){n+=1,n===e.length&&t(e)},i.onerror=function(){r.thumbnail="assets/images/album-art-placeholder.png",n+=1,n===e.length&&t(e)},i.src=r.thumbnail})}):Promise.resolve(e)}function p(e){var t="js-import-form",n="\n        <form id="+t+' class="import-form">\n            <input type="text" name="playlist-url" class="input" placeholder="Playlist url">\n            <button class="btn">Import</button>\n        </form>\n    ';e.insertAdjacentHTML("beforeend",n);var r=document.getElementById(t);r.elements["playlist-url"].focus(),r.addEventListener("submit",k)}function m(){var e=document.getElementById("js-import-form");e&&(e.removeEventListener("submit",k),(0,E.removeElement)(e),(0,E.removeElementClass)("import-option-btn","active"))}function y(e){e.classList.add("active"),p(e)}function g(e){var t=e.target;(0,I.selectLocalFiles)([].concat(i(t.files))),t.value="",t.removeEventListener("change",g),(0,E.removeElement)(t)}function h(){var e=document.createElement("input");return e.setAttribute("type","file"),e.setAttribute("id","js-file-picker"),e.classList.add("file-picker"),e.addEventListener("change",g),document.body.appendChild(e),e}function b(e){var t=document.getElementById("js-file-picker")||h(),n=new MouseEvent("click");"local-file"===e?(t.removeAttribute("webkitdirectory"),t.removeAttribute("directory"),t.setAttribute("multiple",!0)):"local-folder"===e&&(t.removeAttribute("multiple"),t.setAttribute("webkitdirectory",!0),t.setAttribute("directory",!0)),t.dispatchEvent(n)}function k(e){var t=e.target.elements["playlist-url"].value.trim();t&&(c(A),d(t),e.target.reset()),e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),t.removeImportOptionMask=t.createImportOptionMask=t.showNotice=t.addImportedPlaylist=t.importPlaylist=t.setOption=void 0;var T=function(){var e=o(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tracks.splice(0),r=(0,w.getPlaylistById)(t.id)||(0,w.createPlaylist)(t),i=f(n,r.tracks),e.next=5,v(i);case 5:o=e.sent,(0,P.updatePlaylist)(r,o,t.player);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),E=n(1),w=n(2),P=n(3),x=n(24),I=n(14),L=n(23),j=r(L),B=n(17),S=r(B),A="";document.getElementById("js-import-options").addEventListener("mouseover",function e(t){var n=t.target,r=(0,E.getElementByAttr)(n,"data-option-id");if(r){var i=r.attrValue;"dropbox"===i&&(this.removeEventListener("mouseover",e),E.scriptLoader.load({src:"https://www.dropbox.com/static/api/2/dropins.js",id:"dropboxjs","data-app-key":"6ur73hspbv8o1z9"}))}}),document.getElementById("js-import-options").addEventListener("click",function(e){var t=e.target,n=(0,E.getElementByAttr)(t,"data-option-id");if(n){var r=n.attrValue;s(r)&&(a(r),m(),r.includes("local")?(b(r),a()):"dropbox"===r?(0,x.showDropboxChooser)():y(n.elementRef))}}),t.setOption=a,t.importPlaylist=d,t.addImportedPlaylist=T,t.showNotice=u,t.createImportOptionMask=c,t.removeImportOptionMask=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";g=e}function o(){return g}function a(e){var t=document.getElementById("js-tab-container"),n=document.getElementById("js-tab-header"),r=document.getElementById("js-tab-footer");t.classList[e]("is-playlist-tab-visible"),n.classList[e]("visible"),r.classList[e]("visible")}function s(e,t,n){if((0,c.removeElementClass)("sidebar-btn","active"),(0,c.removeElementClass)("tab","active"),t){var r=(0,d.getPlaylistById)(e),o=(0,d.getCurrentTrack)();r.rendered||(0,f.renderPlaylist)(r),o&&o.playlistId===e&&v.showPlayingTrack(o.index,e),i(e),v.togglePlaylistTypeBtn(r.type),(0,m.setSortOptions)(r),(0,p.enableTrackSelection)(r.id),a("add"),(0,c.dispatchEvent)("track-length-change",r.tracks)}else i(),a("remove");if(v.resetFilteredPlaylist(),document.getElementById("js-tab-"+e).classList.add("active"),!n){var s=(0,l.getSidebarEntry)(e);s.classList.add("active")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getVisiblePlaylistId=t.setVisiblePlaylistId=t.toggleTab=void 0;var c=n(1),l=n(9),u=n(10),d=n(2),f=n(8),v=r(f),p=n(15),m=n(12),y=n(11),g="";window.addEventListener("click",function(e){var t=e.target.getAttribute("data-header-item"),n=(0,d.getPlaylistById)(o()),r="";"move-to"===t?(r="js-move-to-panel",(0,u.togglePanel)(r,n,y.createMoveToPanel)):"list"!==t&&"grid"!==t||t===n.type?"sorting"===t?(r="js-sort-panel",(0,u.togglePanel)(r,n,m.createSortPanel)):"order"===t&&n.sortedBy&&(0,m.changePlaylistOrder)(n):v.changePlaylistType(t,n),(0,p.deselectTrackElements)(e.target),(0,u.removePresentPanels)(e,r)}),t.toggleTab=s,t.setVisiblePlaylistId=i,t.getVisiblePlaylistId=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){u.postMessage(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageToWorker=void 0;var o=n(16),a=r(o),s=n(2),c=n(3),l=n(4),u=null;!function(){u=new Worker("js/ww.js"),u.onmessage=function(e){var t=e.data;if("init-playlist"===t.action)!function(){var e=t.payload;Object.keys(e).forEach(function(t){(0,c.initPlaylist)((0,s.createPlaylist)(e[t]),!1)}),l.storedTrack.initTrack(),a.toggleCurrent()}();else if("update-playlist"===t.action){var n=(0,s.getPlaylistById)(t.payload.id);n._id=t.payload._id}},u.onerror=function(e){console.log(e)}}(),t.postMessageToWorker=i},function(e,t,n){"use strict";function r(e){return'\n        <li class="list-item track" data-index="'+e.index+'">\n            <span>'+e.title+"</span>\n            <span>"+e.artist+"</span>\n            <span>"+e.album+"</span>\n            <span>"+e.duration+"</span>\n        </li>\n    "}function i(e,t){return'\n        <ul class="list-view-header">\n            <li class="list-view-header-item">TITLE</li>\n            <li class="list-view-header-item">ARTIST</li>\n            <li class="list-view-header-item">ALBUM</li>\n            <li class="list-view-header-item">LENGTH</li>\n        </ul>\n        <ul id="js-'+e+'" class="playlist-items list-view">'+t+"</ul>\n    "}function o(e){return'\n        <li class="grid-item track" data-index="'+e.index+'">\n            <div class="grid-item-thumb-container">\n                <div class="grid-item-duration">'+e.duration+'</div>\n                <img src="'+e.thumbnail+'" class="grid-item-thumb">\n            </div>\n            <div>'+e.name+"</div>\n        </li>\n    "}function a(e,t){return'<ul id="js-'+e+'" class="playlist-items grid-view">'+t+"</ul>"}function s(e,t){return e.map(t).join("")}function c(e){return"list"===e.type?i(e.id,s(e.tracks,r)):a(e.id,s(e.tracks,o))}function l(e){var t=c(e);return'<div id="js-tab-'+e.id+'" class="tab">'+t+"</div>"}function u(e){var t=l(e),n=document.getElementById("js-tab-container");e.rendered=!0,n.insertAdjacentHTML("beforeend",t)}function d(e,t){var n=document.getElementById("js-"+e.id),i="list"===e.type?r:o;n.insertAdjacentHTML("beforeend",s(t,i))}function f(e,t){t[0].textContent=e.title,t[1].textContent=e.artist,t[2].textContent=e.album,t[3].textContent=e.duration}function v(e,t){t[0].children[0].textContent=e.duration,t[0].children[1].setAttribute("src",e.thumbnail),t[1].textContent=e.name}function p(e){var t=document.getElementById("js-"+e.id).children,n="list"===e.type?f:v;e.tracks.forEach(function(e,r){var i=t[r].children;e.index=r,n(e,i)})}function m(e){var t=document.getElementById("js-tab-"+e);(0,j.removeElement)(t)}function y(e,t){var n=e.offsetHeight,r=e.offsetTop,i=t.scrollTop,o=t.clientHeight,a=i+o;(r-n<i||r>a)&&(t.scrollTop=r-o/2)}function g(e,t,n){var r=document.getElementById("js-"+t),i=r.children[e];(0,j.removeElementClass)("track","playing"),i.classList.add("playing"),n&&y(i,r)}function h(e,t,n){e.forEach(function(e){var r=t[e.index],i="\n            "+e.title.toLowerCase()+"\n            "+e.artist.toLowerCase()+"\n            "+e.album.toLowerCase()+"\n        ";i.includes(n)?r.classList.remove("hidden"):r.classList.add("hidden")})}function b(e){var t=document.getElementById("js-list-toggle-btn"),n=document.getElementById("js-grid-toggle-btn");"list"===e?(t.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),t.classList.remove("active"))}function k(e,t){if(t.type=e,(0,B.resetPlaylistSort)(t),document.getElementById("js-tab-"+t.id).innerHTML=c(t),(0,S.enableTrackSelection)(t.id),b(e),(0,A.hideMoveToBtn)(),(0,I.postMessageToWorker)({action:"update",playlist:{id:t.id,type:t.type,sortedBy:t.sortedBy,order:t.order}}),t.id===(0,L.getActivePlaylistId)()){var n=(0,L.getCurrentTrack)();n&&g(n.index,t.id,!0)}}function T(e){return e.reduce(function(e,t){return e+=t.durationInSeconds},0)}function E(e,t){return t=e>1||!e?t+"s":t,e+" "+t}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=(0,L.getPlaylistById)(t),r=n.tracks,i=document.getElementById("js-"+t).children;M=e?t:"",h(r,i,e)}function P(){M&&(document.getElementById("js-filter-input").value="",w("",M))}Object.defineProperty(t,"__esModule",{value:!0}),t.resetFilteredPlaylist=t.changePlaylistType=t.togglePlaylistTypeBtn=t.filterTracks=t.showPlayingTrack=t.renderPlaylist=t.append=t.update=t.remove=void 0;var x=n(6),I=n(7),L=n(2),j=n(1),B=n(12),S=n(15),A=n(11),O=0,M="";document.getElementById("js-filter-input").addEventListener("keyup",function(e){var t=e.target;O&&clearTimeout(O),O=setTimeout(function(){w(t.value.trim().toLowerCase(),(0,x.getVisiblePlaylistId)())},400)}),window.addEventListener("track-length-change",function(e){var t=e.detail,n=document.getElementById("js-tab-footer"),r=T(t),i=E(t.length,"track"),o=E(Math.floor(r/60%60),"minute");if(r>3600){var a=E(Math.floor(r/3600),"hour");o=a+" and "+o}n.textContent=i+", "+o+" of playtime"}),t.remove=m,t.update=p,t.append=d,t.renderPlaylist=u,t.showPlayingTrack=g,t.filterTracks=h,t.togglePlaylistTypeBtn=b,t.changePlaylistType=k,t.resetFilteredPlaylist=P},function(e,t,n){"use strict";function r(e){return document.getElementById("js-sidebar-entry-"+e)}function i(e,t){var n=document.getElementById("js-sidebar-entries"),r='\n        <li>\n            <a href="#/playlist/'+t+'" id="js-sidebar-entry-'+t+'"\n                class="btn btn-transparent sidebar-btn">'+e+"</a>\n        </li>\n    ";n.insertAdjacentHTML("beforeend",r)}function o(e,t){var n=r(e);n.textContent=t}function a(e){var t=r(e);(0,b.removeElement)(t)}function s(){return'<span id="js-active-playlist-icon" class="icon-volume-up active-playlist-icon"></span>'}function c(e){var t=r(e);l(),t.insertAdjacentHTML("beforeend",s())}function l(){var e=document.getElementById("js-active-playlist-icon");e&&(0,b.removeElement)(e)}function u(e,t,n){var r=Number.parseInt(e.style.left||0,10);e.style.left=Math.abs(r)<t+10?r-1+"px":n+"px",T=requestAnimationFrame(function(){u(e,t,n)})}function d(e){var t=e.target,n=t.scrollWidth,r=t.parentElement.offsetWidth-8;n>r&&(this.addEventListener("mouseleave",f),E=setTimeout(function(){u(t,n,r)},400))}function f(e){var t=e.target;this.removeEventListener("mouseleave",f),clearTimeout(E),cancelAnimationFrame(T),t.style.left=0}function v(){var e='\n        <div id="js-track-info">\n            <div class="track-art-container">\n                <img src="" id="js-track-art" class="track-art" alt="track art">\n            </div>\n            <div class="track-name">\n                <div id="js-track-title" class="track-title"></div>\n                <div id="js-track-artist" class="track-artist"></div>\n            </div>\n        </div>\n    ';document.querySelector(".sidebar").insertAdjacentHTML("beforeend",e),document.getElementById("js-track-title").addEventListener("mouseenter",d),document.getElementById("js-track-artist").addEventListener("mouseenter",d)}function p(e){var t=document.getElementById("js-track-art"),n=e.thumbnail||"assets/images/album-art-placeholder.png";t.src="object"===("undefined"==typeof n?"undefined":h(n))?URL.createObjectURL(n):n}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.getElementById("js-track-title").textContent=t,document.getElementById("js-track-artist").textContent=e}function y(e){var t=document.getElementById("js-track-info");return e?(t||v(),e.artist&&e.title?(m(e.artist,e.title),document.title=e.artist+" - "+e.title):(m(e.name),document.title=e.name),void p(e)):(t&&(document.getElementById("js-track-title").removeEventListener("mouseenter",d),document.getElementById("js-track-artist").removeEventListener("mouseenter",d),(0,b.removeElement)(t)),void(document.title="Veery"))}function g(){var e=document.getElementById("js-sidebar-form");return e?void(0,b.removeElement)(e):void(0,k.createNewPlaylistInputForm)("sidebar",this,k.onNewPlaylistFormSubmit)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeActiveIcon=t.showActiveIcon=t.showTrackInfo=t.getSidebarEntry=t.removeSidebarEntry=t.editSidebarEntry=t.createSidebarEntry=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=n(1),k=n(3),T=0,E=0;document.getElementById("js-sidebar-form-toggle-btn").addEventListener("click",g),t.createSidebarEntry=i,t.editSidebarEntry=o,t.removeSidebarEntry=a,t.getSidebarEntry=r,t.showTrackInfo=y,t.showActiveIcon=c,t.removeActiveIcon=l},function(e,t,n){"use strict";function r(e){l[e]=!0}function i(e){var t=document.getElementById(e);(0,c.removeElement)(t),l[e]=!1}function o(e){return l[e]}function a(e,t,n){o(e)?i(e):(r(e),n(e,t))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];Object.keys(l).forEach(function(n){l[n]&&n!==t&&(0,c.isOutsideElement)(e.target,n)&&i(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.togglePanel=t.removePresentPanels=void 0;var c=n(1),l={};t.removePresentPanels=s,t.togglePanel=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){if(!document.getElementById("js-move-to-btn")){var e='\n        <button id="js-move-to-btn" class="btn" data-header-item="move-to" title="Move to">Move to</button>\n    ';b.insertAdjacentHTML("beforeend",e)}}function o(){var e=document.getElementById("js-move-to-btn");e&&(0,f.removeElement)(e)}function a(e){var t=document.getElementById("js-move-to-list");h.onNewPlaylistFormSubmit(e),t.classList.remove("hidden"),t.innerHTML=u((0,v.getVisiblePlaylistId)())}function s(e){h.createNewPlaylistInputForm("move-to",this,a),(0,f.removeElement)(this),e.stopPropagation()}function c(e){var t,n=h.getSelectedTrackElements(),r=h.getSelectedTrackIndexes(n),i=(0,y.getPlaylistById)((0,v.getVisiblePlaylistId)()),o=(0,y.getPlaylistById)(e),a=[];i.tracks.forEach(function(t){r.includes(t.index)&&!(0,y.findTrack)(e,t.name)&&a.push(t)}),(t=o.tracks).push.apply(t,a),o.tracks=(0,y.resetTrackIndexes)(o.tracks),h.appendToPlaylist(o,a,!0),(0,m.postMessageToWorker)({action:"put",playlist:o})}function l(e){var t=(0,f.getElementByAttr)(e.target,"data-item");if(t){var n=t.attrValue;c(n),document.getElementById("js-move-to-list").removeEventListener("click",l),(0,p.removePresentPanels)()}}function u(e){var t=(0,y.getAllPlaylists)();return Object.keys(t).filter(function(t){return t!==e}).map(function(e){var n=t[e];return'\n            <li class="move-to-list-item" data-item="'+n.id+'">\n                <button class="btn">'+n.title+"</button>\n            </li>\n        "}).join("")}function d(e,t){var n=t.id,r=u(n),i=r?"":"hidden",o='\n        <div id="'+e+'" class="move-to-panel">\n            <h2 class="move-to-panel-title">Move to</h2>\n            <ul id="js-move-to-list" class="move-to-list '+i+'">'+r+'</ul>\n            <button id="js-move-to-new-pl-btn" class="btn move-to-new-pl-btn">Create new playlist</button>\n        </div>\n    ';b.insertAdjacentHTML("beforeend",o),document.getElementById("js-move-to-list").addEventListener("click",l),document.getElementById("js-move-to-new-pl-btn").addEventListener("click",s,{once:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.createMoveToPanel=t.hideMoveToBtn=t.showMoveToBtn=void 0;var f=n(1),v=n(6),p=n(10),m=n(7),y=n(2),g=n(3),h=r(g),b=document.getElementById("js-move-to-panel-container");t.showMoveToBtn=i,t.hideMoveToBtn=o,t.createMoveToPanel=d},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sorting";document.getElementById("js-sort-toggle").textContent=e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=document.getElementById("js-order-toggle");1===e?t.classList.remove("icon-up-big"):t.classList.add("icon-up-big")}function o(e,t,n){e.sort(function(e,r){var i="duration"===t?e.durationInSeconds:e[t].toLowerCase(),o="duration"===t?r.durationInSeconds:r[t].toLowerCase();return i<o?-1*n:i>o?n:0})}function a(e,t){e.order=e.sortedBy===t&&1===e.order?-1:1,e.sortedBy=t,o(e.tracks,t,e.order)}function s(e,t){var n=document.getElementById("js-filter-input").value;if(a(e,t),(0,k.refreshPlaylist)(e),(0,h.postMessageToWorker)({action:"put",playlist:e}),n){var r=document.getElementById("js-"+e.id).children;(0,T.filterTracks)(e.tracks,r,n)}}function c(e){var t=e.sortedBy,n=e.order,o="Sorting";t&&(o=(0,m.capitalize)(t)),r(o),i(n)}function l(e){return"list"===e?["title","artist","album","duration"]:["name","duration"]}function u(e){e.sortedBy="",e.order=0,r(),i()}function d(e,t){return e.map(function(e){var n=e===t?"active":"";return'\n            <li class="sort-option">\n                <button class="btn btn-transparent '+n+'" data-sort="'+e+'">\n                    '+(0,m.capitalize)(e)+"\n                </button>\n            </li>\n        "}).join("")}function f(e,t){var n=t.type,r=t.sortedBy,i=l(n),o=d(i,r),a='\n        <ul id="'+e+'" class="sort-panel">'+o+"</ul>\n    ";document.getElementById("js-sort-panel-container").insertAdjacentHTML("beforeend",a),document.getElementById(e).addEventListener("click",p)}function v(e){s(e,e.sortedBy),i(e.order)}function p(e){var t=e.target,n=t.getAttribute("data-sort");if(n){var o=(0,b.getPlaylistById)((0,y.getVisiblePlaylistId)());if(this.removeEventListener("click",p),(0,g.removePresentPanels)(),n===o.sortedBy)return;r((0,m.capitalize)(n)),i(),s(o,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetPlaylistSort=t.changePlaylistOrder=t.sortTracks=t.createSortPanel=t.setSortOptions=void 0;var m=n(1),y=n(6),g=n(10),h=n(7),b=n(2),k=n(3),T=n(8);t.setSortOptions=c,t.createSortPanel=f,t.sortTracks=o,t.changePlaylistOrder=v,t.resetPlaylistSort=u},function(e,t){"use strict";function n(e,t){i[e]=t,localStorage.setItem("settings",JSON.stringify(i))}function r(e){return i[e]}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign({repeat:!1,shuffle:!1,once:!1,volume:.2},JSON.parse(localStorage.getItem("settings"))||{});t.setSetting=n,t.getSetting=r},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next");
})}}function i(e){return new Promise(function(t){var n=URL.createObjectURL(e),r=new Audio(n);r.preload="metadata",r.addEventListener("loadedmetadata",function e(){t(Math.floor(r.duration)),r.removeEventListener("loadedmetadata",e),r=null,n=URL.revokeObjectURL(n)})})}function o(e){return e.slice(0,e.lastIndexOf("."))}function a(e){var t=new Audio;return e.filter(function(e){return t.canPlayType(e.type)})}function s(e,t){return e.reduce(function(e,n){var r=o(n.name.trim()),i=t.some(function(e){return e.name===r});return i||e.push({audioTrack:n,name:r}),e},[])}function c(e){return new Promise(function(t){parse_audio_metadata(e,function(e){t(e)})})}function l(e){var t=a(e),n=(0,p.getPlaylistById)("local-files")||(0,p.createPlaylist)({id:"local-files",title:"Local files",type:"list",player:"native"});f("local",n,t,d)}Object.defineProperty(t,"__esModule",{value:!0}),t.selectLocalFiles=t.addTracks=t.getTrackDuration=void 0;var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,o,a,s,l,f,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[p.length],o=r.audioTrack,e.next=4,Promise.all([c(o),i(o)]);case 4:if(a=e.sent,s=u(a,2),l=s[0],f=s[1],p.push({audioTrack:o,durationInSeconds:f,index:p.length,title:l.artist?l.title.trim():r.name,artist:l.artist?l.artist.trim():"",album:l.album?l.album.trim():"",name:r.name,thumbnail:l.picture||"assets/images/album-art-placeholder.png",duration:(0,v.formatTime)(f),player:"native",playlistId:t}),p.length===n.length){e.next=13;break}return e.next=12,d(t,n,p);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",p);case 14:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=r(regeneratorRuntime.mark(function e(t,n,r,i){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,y.createImportOptionMask)(t),r.length){e.next=4;break}return(0,y.showNotice)(t,"No valid audio files found"),e.abrupt("return");case 4:if(o=s(r,n.tracks),o.length){e.next=8;break}return(0,y.showNotice)(t,"Tracks already exist"),e.abrupt("return");case 8:return e.next=10,v.scriptLoader.load({src:"js/libs/metadata-audio-parser.min.js"});case 10:return e.next=12,i(n.id,o);case 12:a=e.sent,(0,m.updatePlaylist)(n,a,t);case 14:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),v=n(1),p=n(2),m=n(3),y=n(5);t.getTrackDuration=i,t.addTracks=f,t.selectLocalFiles=l},function(e,t,n){"use strict";function r(e){j&&j.removeEventListener("mousedown",T),j=document.getElementById("js-"+e),j.addEventListener("mousedown",T)}function i(e){var t=document.createElement("li");return L.left=x.x,L.top=x.y,t.setAttribute("id","js-selected-area"),t.setAttribute("class","selected-area"),t.style.top=x.y+"px",t.style.left=x.x+"px",e.appendChild(t),t}function o(){(0,E.removeElement)(O),O=null}function a(e){var t=B,n=j.scrollTop;return Array.from(e).map(function(e){var r=e.getBoundingClientRect(),i=n+r.top-t.top,o=r.left-t.left,a=o+r.width,s=i+r.height;return{ref:e,top:i,right:a,bottom:s,left:o}})}function s(e,t,n){var r=e.x-t.x,i=e.y-t.y;if(r<0){var o=t.x+r;r*=-1,L.left=o,n.left=o+"px"}else L.left!==t.x&&(L.left=t.x,n.left=t.x+"px");if(i<0){var a=t.y+i;i*=-1,L.top=a,n.top=a+"px"}else L.top!==t.y&&(L.top=t.y,n.top=t.y+"px");L.right=L.left+r,L.bottom=L.top+i,n.width=r+"px",n.height=i+"px"}function c(e){e&&(R=!0,(0,P.showMoveToBtn)())}function l(e){!R&&(0,E.isOutsideElement)(e,"js-tab-header")&&((0,E.removeElementClass)("track","selected"),(0,P.hideMoveToBtn)()),R=!1}function u(e,t){var n=(0,E.getElementByAttr)(e,"data-index");n&&(t||(0,E.removeElementClass)("track","selected"),R=!0,n.elementRef.classList.toggle("selected"),c(n.elementRef.classList.contains("selected")))}function d(e,t,n){e.forEach(function(e){var r=e.ref.classList;t.right>e.left&&t.left<e.right&&t.bottom>e.top&&t.top<e.bottom?(n&&!e.selected&&r.contains("selected")&&(r.remove("selected"),e.removed=!0),e.removed||(r.add("selected"),e.selected=!0)):e.selected?(r.remove("selected"),e.selected=!1):e.removed&&(r.add("selected"),e.removed=!1)})}function f(e,t){return e>t?t:e<0?0:e}function v(e,t){return e.x>t.x+2||e.x<t.x-2&&e.y>t.y+2||e.y<t.y-2}function p(){clearInterval(C),C=0}function m(){requestAnimationFrame(o),M=!1,L={},S.length=0}function y(e){_=!0,requestAnimationFrame(function(){s(I,x,O.style),d(S,L,e),_=!1})}function g(e){j.scrollTop+=36,I.y=j.scrollTop+B.height,I.y>=A&&(I.y=A,p()),_||y(e)}function h(e){j.scrollTop-=36,I.y=j.scrollTop,I.y<=0&&(I.y=0,p()),_||y(e)}function b(e){var t=e.clientY-B.top;return I.x=f(e.clientX-B.left,B.width-10),I.y=f(j.scrollTop+t,A),e.preventDefault(),M?!C&&t>B.height&&I.y<A?void(C=setInterval(function(){g(e.ctrlKey)},40)):!C&&t<0&&I.y>0?void(C=setInterval(function(){h(e.ctrlKey)},40)):(_||y(e.ctrlKey),void(C&&t>0&&t<B.height&&p())):(M=v(I,x),void(M&&!O&&(S=a(j.children),O=i(j),e.ctrlKey||S.forEach(function(e){return e.ref.classList.remove("selected")}))))}function k(e){var t=e.target,n=e.ctrlKey;if(C&&p(),M){var r=(0,w.getSelectedTrackElements)();m(),c(r.length)}else u(t,n);window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",k)}function T(e){1===e.which&&(B=j.getBoundingClientRect(),x.x=e.clientX-B.left,x.y=j.scrollTop+e.clientY-B.top,A=j.scrollHeight,window.addEventListener("mousemove",b),window.addEventListener("mouseup",k))}Object.defineProperty(t,"__esModule",{value:!0}),t.deselectTrackElements=t.enableTrackSelection=void 0;var E=n(1),w=n(3),P=n(11),x={},I={},L={},j=null,B=null,S=[],A=0,O=null,M=!1,C=0,_=!1,R=!1;t.enableTrackSelection=r,t.deselectTrackElements=l},function(e,t,n){"use strict";function r(e){return u.some(function(t){return t===e})}function i(e){return window.location.hash.includes(e)}function o(e){r(e)||u.push(e)}function a(e){window.location.hash="/"+e}function s(e){if(!e)return void a("manage");if("404"!==e&&!r(e))return void a("404");var t=e.startsWith("playlist/"),n=t?e.split("playlist/")[1]:e;(0,l.toggleTab)(n,t,"404"===n)}function c(){var e=window.location.hash.slice(2);s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=t.toggleCurrent=t.toggle=t.add=void 0;var l=n(6),u=["manage","404"];window.addEventListener("hashchange",function(e){var t=e.newURL.split("#/")[1];t?s(t):history.back()}),t.add=o,t.toggle=a,t.toggleCurrent=c,t.isActive=i},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){return t.map(function(t,n){var r=Math.floor(t.duration/1e3);return{index:n,durationInSeconds:r,duration:(0,c.formatTime)(r),id:t.id,name:t.title,title:t.title,artist:"",album:"",thumbnail:t.artwork_url||"assets/images/album-art-placeholder.png",player:"soundcloud",playlistId:e}})}function o(e,t){var n=e.id?e.id.toString():e[0].user_id.toString();return{url:t,id:n,title:e.title||e[0].user.username,tracks:e.tracks?i(n,e.tracks):i(n,e),player:"soundcloud",type:"grid"}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPlaylist=t.initSoundCloud=void 0;var a=function(){var e=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:return u=!0,e.next=5,c.scriptLoader.load({src:"js/libs/sdk.min.js"});case 5:SC.initialize({client_id:"7d6323d8ecbfb64acb9cf2e5f5ef150c"});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.prev=2,e.next=5,SC.resolve(t);case 5:n=e.sent,r=o(n,t),(0,l.addImportedPlaylist)(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),404===e.t0.status&&(0,l.showNotice)("soundcloud","Playlist was not found");case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),c=n(1),l=n(5),u=!1;t.initSoundCloud=a,t.fetchPlaylist=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=document.getElementById("js-play-btn");e?t.classList.remove("icon-pause"):t.classList.add("icon-pause"),t.setAttribute("title",e?"Play":"Pause")}function o(e,t){var n=document.getElementById("js-"+e+"-bar"),r=n.getBoundingClientRect(),i=r.left,o=r.width,a=(t-i)/o;return a<0?a=0:a>1&&(a=1),100*a}function a(e){return o("track",e)}function s(){P.stop(),v(),d()}function c(e){var t=o("volume",e.pageX),n=t/100,r=(0,k.getCurrentTrack)();f(t),(0,h.setSetting)("volume",n),r&&E.setVolume(r,n)}function l(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;document.getElementById("js-"+e+"-bar-inner").style.width=t+"%"}function d(e){u("track",e)}function f(e){u("volume",e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;document.getElementById("js-track-current").textContent=(0,b.formatTime)(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0:00";document.getElementById("js-track-duration").textContent=e}function m(e){var t=e.pageX;d(a(t))}function y(e){var t=e.pageX,n=(0,k.getCurrentTrack)();n&&E.seekTo(n,a(t)),w=!1,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y)}function g(e){var t=(0,h.getSetting)(e);t&&document.querySelector('[data-control-item="'+e+'"]').classList.add("active")}Object.defineProperty(t,"__esModule",{value:!0}),t.resetTrackBar=t.showTrackDuration=t.displayCurrentTime=t.setTrackBarInnerWidth=t.togglePlayBtn=t.elapsedTime=void 0;var h=n(13),b=n(1),k=n(2),T=n(4),E=r(T),w=!1,P=function(){function e(){r&&clearTimeout(r)}function t(e,n,i){var o=performance.now()-n,a=o-i;if(v(e.currentTime),!w){var s=e.currentTime/e.duration*100;d(s),E.storedTrack.updateSavedTrack({elapsed:s,currentTime:e.currentTime})}r=setTimeout(function(){e.currentTime<e.duration?(e.currentTime+=1,i+=1e3,t(e,n,i)):(E.storedTrack.updateSavedTrack({elapsed:0,currentTime:0}),(0,b.dispatchEvent)("track-end"))},1e3-a)}function n(n){var r=performance.now();e(),t(n,r,0)}var r=0;return{stop:e,start:n}}();document.getElementById("js-track-bar").addEventListener("mousedown",function(e){1===e.which&&(0,k.getCurrentTrack)()&&(w=!0,m(e),document.addEventListener("mousemove",m),document.addEventListener("mouseup",y))}),document.getElementById("js-volume-bar").addEventListener("mousedown",function(e){1===e.which&&(c(e),document.addEventListener("mousemove",c),document.addEventListener("mouseup",l))}),document.getElementById("js-controls").addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-control-item");if("repeat"===n||"shuffle"===n||"once"===n)return t.classList.toggle("active"),(0,h.setSetting)(n,!(0,h.getSetting)(n)),void("shuffle"===n&&E.toggleShuffle(!(0,h.getSetting)(n)));switch(n){case"previous":E.playPreviousTrack();break;case"play":E.playTrack();break;case"stop":E.stopPlayer(),E.storedTrack.remove();break;case"next":E.playNextTrack()}}),window.addEventListener("DOMContentLoaded",function e(){var t=(0,h.getSetting)("volume");g("repeat"),g("shuffle"),g("once"),f(100*t),window.removeEventListener("DOMContentLoaded",e)}),t.elapsedTime=P,t.togglePlayBtn=i,t.setTrackBarInnerWidth=d,t.displayCurrentTime=v,t.showTrackDuration=p,t.resetTrackBar=s},function(e,t,n){"use strict";function r(e,t,n){return e.audioBlobURL=URL.createObjectURL(e.audioTrack),e.audio=new Audio(e.audioBlobURL),a(t,e),(0,c.setCurrentTrack)(e),e.audio.onplaying=function(){(0,l.onTrackStart)(Math.floor(e.audio.currentTime))},"number"==typeof n?void s(n,e):void e.audio.play()}function i(e,t){var n=t.audio;e?n.play():n.pause()}function o(e){URL.revokeObjectURL(e.audioBlobURL),e.audio.load(),e.audio.onplaying=null,delete e.audioBlobURL,delete e.audio}function a(e,t){t.audio.volume=e}function s(e,t){t.audio.currentTime=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.seekTo=t.togglePlaying=t.stopTrack=t.playTrack=void 0;var c=n(2),l=n(4);t.playTrack=r,t.stopTrack=o,t.togglePlaying=i,t.seekTo=s,t.setVolume=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e){e?f.play():f.pause()}function o(){f.seek(0),f.pause()}function a(e){f.setVolume(e)}function s(e){f.seek(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.seekTo=t.togglePlaying=t.stopTrack=t.playTrack=void 0;var c=function(){var e=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,u.setCurrentTrack)(t),e.next=3,(0,l.initSoundCloud)();case 3:return e.prev=3,f&&f.dispose(),e.next=7,SC.stream("/tracks/"+t.id);case 7:f=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:f.on("play-resume",function(){(0,d.onTrackStart)(Math.floor(f.currentTime()/1e3))}),"number"==typeof r&&f.once("state-change",function(e){"loading"===e&&(s(r),f.pause())}),a(n),f.seek(0),f.play();case 18:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),l=n(17),u=n(2),d=n(4),f=null;t.playTrack=c,t.stopTrack=o,t.togglePlaying=i,t.seekTo=s,t.setVolume=a},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e.data;if(t===YT.PlayerState.PLAYING){if(g)return y.pauseVideo(),void(g=!1);(0,m.onTrackStart)(Math.floor(y.getCurrentTime()))}}function o(){h=!0,l.apply(void 0,r(b)),b=null}function a(e){console.log(e)}function s(){y=new YT.Player("yt-player",{height:"390",width:"640",videoId:"",events:{onReady:o,onStateChange:i,onError:a}})}function c(e){e?y.playVideo():y.pauseVideo()}function l(e,t,n){return h?(d(t),(0,p.setCurrentTrack)(e),void("number"==typeof n?(g=!0,y.loadVideoById(e.id,n)):y.loadVideoById(e.id))):(b=[e,t,n],void v.scriptLoader.load({src:"https://www.youtube.com/iframe_api"}))}function u(){y.stopVideo()}function d(e){y.setVolume(100*e)}function f(e){y.seekTo(e,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.seekTo=t.togglePlaying=t.stopTrack=t.playTrack=void 0;var v=n(1),p=n(2),m=n(4),y=null,g=!1,h=!1,b=null;window.onYouTubeIframeAPIReady=s,t.playTrack=l,t.stopTrack=u,t.togglePlaying=c,t.seekTo=f,t.setVolume=d},function(e,t,n){"use strict";function r(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("ul");return t.classList.add("pl-entry-container"),n.classList.add("manage-tab-section-title"),r.classList.add("pl-entries"),n.textContent="Playlist entries",r.id=e,r.addEventListener("click",u),t.appendChild(n),t.appendChild(r),document.getElementById("js-manage-tab-content").appendChild(t),r}function i(e){e.removeEventListener("click",u),(0,d.removeElement)(e.parentElement)}function o(){var e="js-pl-entries";return document.getElementById(e)||r(e)}function a(e,t,n){var r=o(),i='\n        <li class="pl-entry" data-id='+t+'>\n            <form class="pl-entry-form">\n                <input type="text" class="input pl-entry-title" value="'+e+'" readonly>\n                <button type="submit" class="icon-pencil btn btn-transparent"\n                    data-action="edit" title="Edit"></button>\n            </form>\n            <button type="submit" class="icon-cw btn btn-transparent '+(n?"":"hidden")+'"\n                data-action="refresh" title="Refresh"></button>\n            <button class="icon-trash btn btn-transparent"\n                data-action="remove" title="Remove playlist"></button>\n        </li>\n    ';r.insertAdjacentHTML("beforeend",i)}function s(e){var t=e.parentElement;(0,d.removeElement)(e),t.children.length||i(t)}function c(e,t){var n="edit"===t?"save":"edit";e.setAttribute("title",(0,d.capitalize)(n)),e.setAttribute("data-action",n),e.classList.toggle("active")}function l(e,t,n){var r=t.querySelector(".pl-entry-title");if("edit"===e)r.removeAttribute("readonly"),r.focus(),r.selectionStart=0,r.selectionEnd=r.value.length;else if("save"===e){var i=(0,p.getPlaylistById)(n);r.value||(r.value=i.title);var o=r.value;o!==i.title&&(i.title=o,(0,v.editSidebarEntry)(n,o),r.setAttribute("value",o),(0,f.postMessageToWorker)({action:"update",playlist:{id:i.id,title:i.title}})),r.setAttribute("readonly","readonly")}}function u(e){var t=(0,d.getElementByAttr)(e.target,"data-id"),n=e.target.getAttribute("data-action");if(e.preventDefault(),t&&n){if("remove"===n)return(0,m.removePlaylist)(t.attrValue),void s(t.elementRef);if("refresh"===n){var r=(0,p.getPlaylistById)(t.attrValue),i=r.url,o="";return i.includes("youtube")?o="youtube":i.includes("soundcloud")&&(o="soundcloud"),(0,y.createImportOptionMask)(o),(0,y.importPlaylist)(i),void e.target.classList.add("hidden")}l(n,t.elementRef,t.attrValue),c(e.target,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.createPlaylistEntry=void 0;var d=n(1),f=n(7),v=n(9),p=n(2),m=n(3),y=n(5);t.createPlaylistEntry=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e){(0,p.showNotice)("youtube",e)}function o(e){if(e=e.slice(2),e.includes("H")||(e="0H"+e),!e.includes("M")){var t=e.indexOf("H")+1;e=e.slice(0,t)+"0M"+e.slice(t)}return e=e.includes("S")?e.slice(0,-1):e+"0",e.replace(/[HM]/g,":").split(":").reverse().reduce(function(e,t,n){return e+=t*Math.pow(60,n)},0)}function a(e,t,n,r,i){var o="AIzaSyD33Rxm4dA34Mh84oSxYTUUF_jyCLLOua4",a="part="+t+"&"+n+"="+r+"&maxResults=50&key="+o;return i&&(a+="&pageToken="+i),fetch("https://www.googleapis.com/youtube/v3/"+e+"?"+a).then(function(e){return e.json()})}function s(e){return e.filter(function(e){var t=e.snippet.title;return"Deleted video"!==t&&"Private video"!==t})}function c(e,t,n){return t.map(function(t,r){return{index:r+n,id:t.snippet.resourceId.videoId,durationInSeconds:t.durationInSeconds,duration:(0,v.formatTime)(t.durationInSeconds),name:t.snippet.title,title:t.snippet.title,artist:"",album:"",thumbnail:t.snippet.thumbnails.default.url,player:"youtube",playlistId:e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPlaylist=void 0;var l=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(e){return e.snippet.resourceId.videoId}).join(),e.next=3,a("videos","contentDetails","id",n);case 3:return r=e.sent,e.abrupt("return",t.map(function(e,t){return e.durationInSeconds=o(r.items[t].contentDetails.duration),e}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,i,o,d,f,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("playlistItems","snippet","playlistId",t,n);case 2:return r=e.sent,i=s(r.items),e.next=6,l(i);case 6:if(o=e.sent,d=c(t,o,v),!r.nextPageToken){e.next=13;break}return e.next=11,u(t,r.nextPageToken,d.length);case 11:return f=e.sent,e.abrupt("return",d.concat(f));case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("playlists","snippet","id",t);case 2:return n=e.sent,r=n.items,e.abrupt("return",r.length?r[0].snippet.title:"");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.split("list=")[1]){e.next=4;break}return i("Invalid url"),e.abrupt("return");case 4:return e.next=6,d(n);case 6:if(r=e.sent){e.next=10;break}return i("Playlist was not found"),e.abrupt("return");case 10:return e.next=12,u(n);case 12:o=e.sent,a={id:n,url:t,title:r,tracks:o,player:"youtube",type:"grid"},(0,p.addImportedPlaylist)(a);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=n(1),p=n(5);t.fetchPlaylist=f},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e){return fetch(e).then(function(e){return e.blob()})}function o(){Dropbox.choose({success:function(e){var t=(0,l.getPlaylistById)("dropbox-tracks")||(0,l.createPlaylist)({id:"dropbox-tracks",title:"Dropbox tracks",type:"grid",player:"native"});(0,u.setOption)(),(0,c.addTracks)("dropbox",t,e,a)},cancel:function(){(0,u.setOption)()},linkType:"direct",multiselect:!0,extensions:["audio"]})}Object.defineProperty(t,"__esModule",{value:!0}),t.showDropboxChooser=void 0;var a=function(){var e=r(regeneratorRuntime.mark(function e(t,n){var r,o,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[u.length],e.next=3,i(r.audioTrack.link);case 3:return o=e.sent,e.next=6,(0,c.getTrackDuration)(o);case 6:if(l=e.sent,u.push({audioTrack:o,durationInSeconds:l,index:u.length,title:r.name,artist:"",album:"",name:r.name,duration:(0,s.formatTime)(l),thumbnail:"assets/images/album-art-placeholder.png",player:"native",playlistId:t}),u.length===n.length){e.next=12;break}return e.next=11,a(t,n,u);case 11:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),s=n(1),c=n(14),l=n(2),u=n(5);t.showDropboxChooser=o},function(e,t,n){"use strict";n(13),n(7),n(16),n(1),n(6),n(10),n(9),n(14),n(23),n(17),n(2),n(5),n(22),n(3),n(8),n(12),n(15),n(11),n(18),n(4),n(19),n(21),n(20)},function(e,t,n){(function(t,n){!function(t){"use strict";function r(e,t,n,r){var i=Object.create((t||o).prototype),a=new p(r||[]);return i._invoke=d(e,n,a),i}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function a(){}function s(){}function c(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){this.arg=e}function u(e){function t(t,n){var r=e[t](n),i=r.value;return i instanceof l?Promise.resolve(i.arg).then(o,a):Promise.resolve(i).then(function(e){return r.value=e,r})}function r(e,n){function r(){return t(e,n)}return i=i?i.then(r,r):new Promise(function(e){e(r())})}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var i,o=t.bind(e,"next"),a=t.bind(e,"throw");t.bind(e,"return");this._invoke=r}function d(e,t,n){var r=E;return function(o,a){if(r===P)throw new Error("Generator is already running");if(r===x){if("throw"===o)throw a;return y()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===g){n.delegate=null;var c=s.iterator.return;if(c){var l=i(c,s.iterator,a);if("throw"===l.type){o="throw",a=l.arg;continue}}if("return"===o)continue}var l=i(s.iterator[o],s.iterator,a);if("throw"===l.type){n.delegate=null,o="throw",a=l.arg;continue}o="next",a=g;var u=l.arg;if(!u.done)return r=w,u;n[s.resultName]=u.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n._sent=a,r===w?n.sent=a:n.sent=g;else if("throw"===o){if(r===E)throw r=x,a;n.dispatchException(a)&&(o="next",a=g)}else"return"===o&&n.abrupt("return",a);r=P;var l=i(e,t,n);if("normal"===l.type){r=n.done?x:w;var u={value:l.arg,done:n.done};if(l.arg!==I)return u;n.delegate&&"next"===o&&(a=g)}else"throw"===l.type&&(r=x,o="throw",a=l.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(h.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:g,done:!0}}var g,h=Object.prototype.hasOwnProperty,b="function"==typeof Symbol&&Symbol.iterator||"@@iterator",k="object"==typeof e,T=t.regeneratorRuntime;if(T)return void(k&&(e.exports=T));T=t.regeneratorRuntime=k?e.exports:{},T.wrap=r;var E="suspendedStart",w="suspendedYield",P="executing",x="completed",I={},L=s.prototype=o.prototype;a.prototype=L.constructor=s,s.constructor=a,a.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s,e.prototype=Object.create(L),e},T.awrap=function(e){return new l(e)},c(u.prototype),T.async=function(e,t,n,i){var o=new u(r(e,t,n,i));return T.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},c(L),L[b]=function(){return this},L.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=h.call(i,"catchLoc"),s=h.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),I},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),v(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;v(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},I}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(27))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&v&&(m=!1,v.length?p=v.concat(p):y=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(v=p,p=[];++y<t;)v&&v[y].run();y=-1,t=p.length}v=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var v,p=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}]);