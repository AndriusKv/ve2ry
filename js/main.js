!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(13),n(5),n(15),n(2),n(4),n(9),n(8),n(16),n(22),n(21),n(1),n(10),n(6),n(7),n(12),n(14),n(11),n(17),n(3),n(18),n(20),n(19)},function(e,t){"use strict";function n(){return E}function r(e){return E[e]}function a(e){return E[e.id]=Object.assign({sortedBy:"",order:0,shuffled:!1,tracks:e.tracks||[],type:e.type,playbackOrder:[]},e),E[e.id]}function i(e){delete E[e]}function o(e){E.hasOwnProperty(e)&&(I=e)}function l(){return I}function s(e){return e===I}function c(){return E[I]}function u(e){j=e?Object.assign({},e):e}function d(){return j}function f(e){j.index=e,u(j)}function m(e,t){var n=r(e),a=n.tracks,i=a.find(function(e){return e.name===t});return i?Object.assign({},i):null}function y(e){var t=c();B=t.playbackOrder.indexOf(Number.parseInt(e,10))}function v(){var e=d();e&&y(e.index)}function p(e,t){e.playbackOrder=e.tracks.map(function(e){return e.index}),t&&b(e,t)}function g(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t);t-=1;var r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}function b(e,t){e.shuffled=t,t?e.playbackOrder=g(e.playbackOrder):e.playbackOrder.sort(function(e,t){return e-t})}function k(e){var t=c(),n=t.playbackOrder;return B+=e,B>=n.length&&(B=0),B===-1&&(B=n.length-1),n[B]}function h(e){var t=c();return t.tracks[e]}function T(e){var t=k(e),n=h(t);if(n)return u(n),y(n.index),Object.assign({},n)}function P(e){return e.map(function(e,t){return e.index=t,e})}Object.defineProperty(t,"__esModule",{value:!0});var E={},I="",j=null,B=0;t.setPlaylistAsActive=o,t.getPlaylistById=r,t.removePlaylist=i,t.getAllPlaylists=n,t.createPlaylist=a,t.isActive=s,t.getActivePlaylistId=l,t.setCurrentTrack=u,t.getCurrentTrack=d,t.updateCurrentTrackIndex=f,t.findTrack=m,t.getNextTrackIndex=k,t.getNextTrack=T,t.setPlaybackIndex=y,t.resetPlaybackIndex=v,t.getTrackAtIndex=h,t.setPlaybackOrder=p,t.shufflePlaybackOrder=b,t.resetTrackIndexes=P},function(e,t){"use strict";function n(e,t){var n=Array.from(document.querySelectorAll("."+e+"."+t));n.forEach(function(e){e.classList.remove(t)})}function r(e,t){for(;e;){var n=e.getAttribute(t);if(n)return{elementRef:e,attrValue:n};e=e.parentElement}}function a(e,t){var n=document.getElementById(t);if(!n)return!1;for(;e;){if(e===n)return!1;e=e.parentElement}return!0}function i(e){var t="";if(e=Math.floor(e),e>=60){var n=Math.floor(e/60);t=n+":"}else t="0:";var r=e%60;return t+=r<10?"0"+r:r}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,n){if(!t.includes(e)){var r=document.createElement("script");r.setAttribute("src",e),document.getElementsByTagName("body")[0].appendChild(r),t.push(e),n&&(r.onload=function(){n()})}}var t=[];return{load:e}}();t.scriptLoader=o,t.getElementByAttr=r,t.removeElementClass=n,t.formatTime=i,t.isOutsideElement=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e,t,n){j.showTrackInfo(e),C.showTrackDuration(e.duration,!1),e.index!==-1&&x.showPlayingTrack(e.index,t,n)}function i(e,t){var n=w.getCurrentTrack(),r=w.getActivePlaylistId();a(n,r,U),j.showActiveIcon(r),C.addClassOnPlayBtn("icon-pause"),N=!1,U=!1,W.saveTrack({playlistId:r,name:n.name}),C.elapsedTime.start(e,o(t))}function o(e){return function(){return E.getSetting("repeat")?(C.resetTrackSlider(),void e()):void d(w.getCurrentTrack(),1)}}function l(e){var t=e.play,n=e.pause;N?t():(n(),j.removeActiveIcon(),C.elapsedTime.stop(),C.addClassOnPlayBtn("icon-play")),N=!N}function s(e,t){var n=E.getSetting("volume");"native"===e.player?S.playTrack(e,n,t):"youtube"===e.player?_.playTrack(e,n,t):"soundcloud"===e.player&&V.playTrack(e,n,t)}function c(e){var t=null;"native"===e.player?t=S.getPlayPauseCallbacks(e):"youtube"===e.player?t=_.getPlayPauseCallbacks():"soundcloud"===e.player&&(t=V.getPlayPauseCallbacks()),l(t)}function u(e){if(!e){var t=(0,T.getActiveTabId)();return void(w.getPlaylistById(t)&&(w.setPlaylistAsActive(t),U=!0,f(w.getNextTrackIndex(0),t)))}c(e)}function d(e,t){if(e){m(e);var n=w.getNextTrack(t);n?(U=!0,s(n)):v()}}function f(e,t){var n=w.getCurrentTrack(),r=w.getPlaylistById(t),a=Object.assign({},r.tracks[e]);N&&!n||(a.player!==n.player?y(n):m(n)),a.name&&(!r.shuffled&&E.getSetting("shuffle")?(w.shufflePlaybackOrder(r,!0),w.resetPlaybackIndex()):w.setPlaybackIndex(a.index),s(a))}function m(e){"native"===e.player?S.stopTrack(e):"youtube"===e.player?_.stopTrack():"soundcloud"===e.player&&V.stopTrack()}function y(e){e&&m(e),v()}function v(){N=!0,(0,h.removeElementClass)("track","playing"),w.setCurrentTrack(null),C.resetTrackSlider(),C.showTrackDuration(0),C.addClassOnPlayBtn("icon-play"),j.removeActiveIcon(),j.showTrackInfo()}function p(e){E.setSetting("repeat",e)}function g(e){var t=w.getPlaylistById((0,T.getActiveTabId)());E.setSetting("shuffle",e),t&&(w.shufflePlaybackOrder(t,e),w.resetPlaybackIndex())}function b(e,t){"native"===e.player?S.setVolume(e,t):"youtube"===e.player?_.setVolume(t):"soundcloud"===e.player&&V.setVolume(t)}function k(e,t){C.elapsedTime.stop(),"native"===e.player?S.setElapsed(e,t):"youtube"===e.player?_.setElapsed(t):"soundcloud"===e.player&&V.setElapsed(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.storedTrack=t.onTrackEnd=t.onTrackStart=t.setVolume=t.seekTo=t.stopPlayer=t.playNextTrack=t.playTrack=t.shuffle=t.repeat=void 0;var h=n(2),T=n(4),P=n(13),E=r(P),I=n(8),j=r(I),B=n(1),w=r(B),A=n(7),x=r(A),L=n(17),C=r(L),O=n(18),S=r(O),M=n(20),_=r(M),R=n(19),V=r(R),N=!0,U=!1,W=function(){function e(){return JSON.parse(localStorage.getItem("track"))}function t(e){localStorage.setItem("track",JSON.stringify(e))}function n(n){var r=Object.assign(e(),n);t(r)}function r(){localStorage.removeItem("track")}function i(){var t=e();if(t){var n=w.findTrack(t.playlistId,t.name);n&&(w.setPlaylistAsActive(t.playlistId),w.setPlaybackIndex(n.index),C.setSliderElementWidth("track",t.elapsed),C.setElapsedTime(t.currentTime),a(n,t.playlistId),s(n,t.currentTime))}}function o(e){l[e]=!0,Object.keys(l).every(function(e){return l[e]})&&i()}var l={"native":!1,youtube:!1,soundcloud:!1};return{get:e,remove:r,saveTrack:t,updateSavedTrack:n,setPlayerAsReady:o}}();document.getElementById("js-tab-container").addEventListener("dblclick",function(e){var t=e.target,n=(0,h.getElementByAttr)(t,"data-index");if(n){var r=n.attrValue,a=(0,T.getActiveTabId)();w.setPlaylistAsActive(a),f(r,a)}}),t.repeat=p,t.shuffle=g,t.playTrack=u,t.playNextTrack=d,t.stopPlayer=y,t.seekTo=k,t.setVolume=b,t.onTrackStart=i,t.onTrackEnd=o,t.storedTrack=W},function(e,t,n){"use strict";function r(e){y=e}function a(){return y}function i(e,t,n){var a=document.getElementById("js-tab-header");if((0,o.removeElementClass)("sidebar-btn","active"),(0,o.removeElementClass)("tab","active"),t){var i=(0,c.getPlaylistById)(e);(0,u.togglePlaylistTypeBtn)(i.type),(0,f.setSortOptions)(i),(0,d.enableTrackSelection)(i.id),a.classList.add("visible")}else a.classList.remove("visible");if(r(e),document.getElementById("js-tab-"+e).classList.add("active"),!n){var s=(0,l.getSidebarEntry)(e);s.classList.add("active")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveTabId=t.setActiveTabId=t.toggleTab=void 0;var o=n(2),l=n(8),s=n(9),c=n(1),u=n(7),d=n(14),f=n(12),m=n(11),y="add";window.addEventListener("click",function(e){var t=e.target.getAttribute("data-header-item"),n=(0,c.getPlaylistById)(a()),r="";"move-to"===t?(r="js-move-to-panel",(0,s.togglePanel)(r,n,m.createMoveToPanel)):"list"!==t&&"grid"!==t||t===n.type?"sorting"===t?(r="js-playlist-sort-panel",(0,s.togglePanel)(r,n,f.createSortPanel)):"order"===t&&n.sortedBy&&(0,f.changePlaylistOrder)(n):(0,u.changePlaylistType)(t,n),(0,d.deselectTrackElements)(e.target),(0,s.removePresentPanels)(e,r)}),t.toggleTab=i,t.setActiveTabId=r,t.getActiveTabId=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(){d=new Worker("js/ww.js"),d.onmessage=function(e){var t=e.data;if("init-playlist"===t.action)!function(){var e=t.payload;Object.keys(e).forEach(function(t){var n=e[t];(0,c.initPlaylist)((0,s.createPlaylist)(n))}),u.storedTrack.setPlayerAsReady("native"),l.toggleCurrent()}();else if("update-playlist"===t.action){var n=(0,s.getPlaylistById)(t.payload.id);n._id=t.payload._id}},d.onerror=function(e){console.log(e)}}function i(e){d.postMessage(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageToWorker=t.initializeWorker=void 0;var o=n(15),l=r(o),s=n(1),c=n(6),u=n(3),d=null;t.initializeWorker=a,t.postMessageToWorker=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e,t,n){k.setPlaybackOrder(e,(0,P.getSetting)("shuffle")),k.resetPlaybackIndex(),e.sortedBy&&((0,A.sortTracks)(e.tracks,e.sortedBy,e.order),s(e)),n&&g.toggle(t)}function i(e,t){var n="playlist/"+e.id;g.add(n),T.add(e),(0,B.createSidebarEntry)(e.title,e.id),c(e.title,e.id),a(e,n,t)}function o(e,t,n){var r="playlist/"+e.id;T.append(e,t),a(e,r,n)}function l(e,t){var n=w.storedTrack.get();n&&n.playlistId===e&&w.storedTrack.remove(),k.isActive(e)&&(0,w.stopPlayer)(),t.parentElement.removeChild(t),k.removePlaylist(e),(0,B.removeSidebarEntry)(e),T.remove(e),(0,j.postMessageToWorker)({action:"remove",playlistId:e})}function s(e){var t=k.getCurrentTrack();if((0,I.removeElementClass)("track","selected"),T.update(e),t&&k.isActive(e.id)){var n=k.findTrack(e.id,t.name);n&&(k.updateCurrentTrackIndex(n.index),k.setPlaybackIndex(n.index),T.showPlayingTrack(n.index,e.id,!0))}}function c(e,t){var n=document.getElementById("js-playlist-entries"),r='\n        <li class="playlist-entry" data-id='+t+'>\n            <input type="text" class="input playlist-entry-title" value="'+e+'" readonly>\n            <button class="icon-pencil btn btn-transparent"\n                data-action="edit" title="Edit playlist title"></button>\n            <button class="icon-trash btn btn-transparent"\n                data-action="remove" title="Remove playlist"></button>\n        </li>\n    ';n.insertAdjacentHTML("beforeend",r)}function u(e){return e.map(function(e){return Number.parseInt(e.getAttribute("data-index"),10)})}function d(e){e.forEach(function(e){e.parentElement.removeChild(e)})}function f(e){e.forEach(function(e,t){e.setAttribute("data-index",t)})}function m(e,t){var n=e.tracks.filter(function(e){return!t.includes(e.index)});return k.resetTrackIndexes(n)}function y(e,t){var n=k.getCurrentTrack();if(e===k.getActivePlaylistId()&&n)if(t.includes(n.index))k.updateCurrentTrackIndex(-1);else{var r=k.findTrack(e,n.name),a=r.index;k.updateCurrentTrackIndex(a),k.setPlaybackIndex(a)}}function v(e){var t=document.getElementById("js-"+e.id),n=Array.from(t.querySelectorAll(".track.selected"));if(n.length){var r=u(n);d(n),f(Array.from(t.children)),e.tracks=m(e,r),k.setPlaybackOrder(e,(0,P.getSetting)("shuffle")),y(e.id,r),(0,j.postMessageToWorker)({action:"put",playlist:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.updatePlaylist=t.removePlaylist=t.appendToPlaylist=t.initPlaylist=void 0;var p=n(15),g=r(p),b=n(1),k=r(b),h=n(7),T=r(h),P=n(13),E=n(4),I=n(2),j=n(5),B=n(8),w=n(3),A=n(12);window.addEventListener("keypress",function(e){var t="Delete"===e.key||127===e.keyCode,n=k.getPlaylistById((0,E.getActiveTabId)());t&&n&&v(n)}),t.initPlaylist=i,t.appendToPlaylist=o,t.removePlaylist=l,t.updatePlaylist=s},function(e,t,n){"use strict";function r(e){return'\n        <li class="list-item track" data-index="'+e.index+'">\n            <span>'+e.title+"</span>\n            <span>"+e.artist+"</span>\n            <span>"+e.album+"</span>\n            <span>"+e.duration+"</span>\n        </li>\n    "}function a(e,t){return'\n        <ul class="list-view-header">\n            <li class="list-view-header-item">TITLE</li>\n            <li class="list-view-header-item">ARTIST</li>\n            <li class="list-view-header-item">ALBUM</li>\n            <li class="list-view-header-item">LENGTH</li>\n        </ul>\n        <ul id="js-'+e+'" class="playlist-items list-view">'+t+"</ul>\n    "}function i(e){return'\n        <li class="grid-item track" data-index="'+e.index+'">\n            <div class="grid-item-thumb-container">\n                <div class="grid-item-duration">'+e.duration+'</div>\n                <img src="'+e.thumbnail+'" class="grid-item-thumb">\n            </div>\n            <div>'+e.name+"</div>\n        </li>\n    "}function o(e,t){return'<ul id="js-'+e+'" class="playlist-items grid-view">'+t+"</ul>"}function l(e,t){return e.map(t).join("")}function s(e){return"list"===e.type?a(e.id,l(e.tracks,r)):o(e.id,l(e.tracks,i))}function c(e){var t=s(e);return'<div id="js-tab-'+e.id+'" class="tab playlist-tab">'+t+"</div>"}function u(e){var t=c(e),n=document.getElementById("js-tab-container");n.insertAdjacentHTML("beforeend",t)}function d(e,t){var n=document.getElementById("js-"+e.id),a="list"===e.type?r:i;n.insertAdjacentHTML("beforeend",l(t,a))}function f(e,t){t[0].textContent=e.title,t[1].textContent=e.artist,t[2].textContent=e.album,t[3].textContent=e.duration}function m(e,t){t[0].children[0].textContent=e.duration,t[0].children[1].setAttribute("src",e.thumbnail),t[1].textContent=e.name}function y(e){var t=document.getElementById("js-"+e.id).children,n="list"===e.type?f:m;e.tracks.forEach(function(e,r){var a=t[r].children;e.index=r,n(e,a)})}function v(e){var t=document.getElementById("js-tab-"+e);t.parentElement.removeChild(t)}function p(e,t){var n=e.offsetHeight,r=e.offsetTop,a=t.scrollTop,i=t.clientHeight,o=a+i;(r-n<a||r>o)&&(t.scrollTop=r-i/2)}function g(e,t,n){var r=document.getElementById("js-"+t),a=r.children[e];(0,I.removeElementClass)("track","playing"),a.classList.add("playing"),n&&p(a,r)}function b(e,t,n){n=n.trim().toLowerCase(),e.forEach(function(e){var r=t[e.index],a=e.title?e.title.toLowerCase():"",i=e.artist?e.artist.toLowerCase():"",o=e.album?e.album.toLowerCase():"",l=e.name?e.name.toLowerCase():"";a.includes(n)||i.includes(n)||o.includes(n)||l.includes(n)?r.classList.remove("hidden"):r.classList.add("hidden")})}function k(e){var t=document.getElementById("js-list-toggle-btn"),n=document.getElementById("js-grid-toggle-btn");"list"===e?(t.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),t.classList.remove("active"))}function h(e,t){if(t.type=e,(0,j.resetPlaylistSort)(t),document.getElementById("js-tab-"+t.id).innerHTML=s(t),(0,B.enableTrackSelection)(t.id),k(e),(0,w.hideMoveToBtn)(),(0,P.postMessageToWorker)({action:"update",playlist:{id:t.id,type:t.type,sortedBy:t.sortedBy,order:t.order}}),t.id===(0,E.getActivePlaylistId)()){var n=(0,E.getCurrentTrack)();n&&g(n.index,t.id,!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.changePlaylistType=t.togglePlaylistTypeBtn=t.filterTracks=t.showPlayingTrack=t.append=t.update=t.remove=t.add=void 0;var T=n(4),P=n(5),E=n(1),I=n(2),j=n(12),B=n(14),w=n(11),A=0;document.getElementById("js-filter-input").addEventListener("keyup",function(e){var t=e.target;A&&clearTimeout(A),A=setTimeout(function(){var e=(0,E.getPlaylistById)((0,T.getActiveTabId)()),n=e.id,r=e.tracks,a=document.getElementById("js-"+n).children;b(r,a,t.value)},400)}),t.add=u,t.remove=v,t.update=y,t.append=d,t.showPlayingTrack=g,t.filterTracks=b,t.togglePlaylistTypeBtn=k,t.changePlaylistType=h},function(e,t){"use strict";function n(e){return document.getElementById("js-sidebar-entry-"+e)}function r(e,t){var n=document.getElementById("js-sidebar-playlist-entries"),r='\n        <li>\n            <a href="#/playlist/'+t+'" id="js-sidebar-entry-'+t+'"\n                class="btn btn-transparent sidebar-btn">\n                <span>'+e+"</span>\n            </a>\n        </li>";n.insertAdjacentHTML("beforeend",r)}function a(e,t){var r=n(e);r.children[0].textContent=t}function i(e){var t=n(e);t.parentElement.removeChild(t)}function o(){return'<span id="js-active-playlist-icon" class="icon-volume-up active-playlist-icon"></span>'}function l(e){var t=n(e);s(),t.insertAdjacentHTML("beforeend",o())}function s(){var e=document.getElementById("js-active-playlist-icon");e&&e.parentElement.removeChild(e)}function c(e){var t=document.getElementById("js-player-track-art");if(e&&e.thumbnail){var n=e.thumbnail;"object"===("undefined"==typeof n?"undefined":f(n))&&(n=URL.createObjectURL(n)),t.src=n}else t.src="./assets/images/album-art-placeholder.png"}function u(e){var t=document.getElementById("js-player-track-info"),n=d(t.children,2),r=n[0],a=n[1];if(c(e),!e)return r.textContent="",a.textContent="",void(document.title="ve2ry");if(e.artist&&e.title)r.textContent=e.title,a.textContent=e.artist,document.title=e.artist+" - "+e.title;else{var i=e.name;r.textContent="",a.textContent=i,document.title=i}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{!r&&l["return"]&&l["return"]()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.createSidebarEntry=r,t.editSidebarEntry=a,t.removeSidebarEntry=i,t.getSidebarEntry=n,t.showTrackInfo=u,t.showActiveIcon=l,t.removeActiveIcon=s},function(e,t,n){"use strict";function r(e){c[e]=!0}function a(e){var t=document.getElementById(e);t.parentElement.removeChild(t),c[e]=!1}function i(e){return c[e]}function o(e,t,n){i(e)?a(e):(r(e),n(e,t))}function l(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];Object.keys(c).forEach(function(n){c[n]&&n!==t&&(0,s.isOutsideElement)(e.target,n)&&a(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.togglePanel=t.removePresentPanels=void 0;var s=n(2),c={};t.removePresentPanels=l,t.togglePanel=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){var e=document.getElementById("js-playlist-add-notice");e&&e.parentElement.removeChild(e)}function o(e){var t=document.createElement("div");return t.setAttribute("id","js-playlist-add-notice"),t.classList.add("playlist-add-notice"),t.textContent=e,t}function l(e){var t=o(e),n=document.getElementById("js-tab-add");i(),n.insertBefore(t,document.getElementById("js-playlist-entries")),setTimeout(i,3200)}function s(e,t){"youtube"===e?P.fetchPlaylist(t):"soundcloud"===e&&I.fetchPlaylist(t)}function c(e,t){return e.reduce(function(e,n){var r=t.some(function(e){return e.name===n.name});return r||e.push(n),e},[])}function u(e){var t=(0,g.getPlaylistById)(e.id),n=null;if(t){var r,i=c(e.tracks,t.tracks);n=Object.assign({},t),(r=n.tracks).push.apply(r,a(i)),n.tracks=(0,g.resetTrackIndexes)(n.tracks),(0,b.appendToPlaylist)(n,i,!0)}else n=(0,g.createPlaylist)(e),(0,b.initPlaylist)(n,!0);B.toggle(),(0,v.postMessageToWorker)({action:"put",playlist:n})}function d(e){var t=e.attrValue;t!==j&&(j=t,(0,y.removeElementClass)("playlist-provider","selected"),e.elementRef.classList.add("selected"),document.getElementById("js-import-form-container").classList.add("visible"))}function f(e){var t=document.getElementById("js-file-chooser"),n=new MouseEvent("click");"file"===e?(t.removeAttribute("webkitdirectory"),t.removeAttribute("directory"),t.setAttribute("multiple",!0)):"folder"===e&&(t.removeAttribute("multiple"),t.setAttribute("webkitdirectory",!0),t.setAttribute("directory",!0)),t.dispatchEvent(n)}function m(e,t,n,r){if(t.setAttribute("title",e[0].toUpperCase()+e.slice(1)),t.setAttribute("data-action",e),t.classList.toggle("active"),"save"===e)n.removeAttribute("readonly"),n.focus(),n.selectionStart=0,n.selectionEnd=n.value.length;else if("edit"===e){var a=(0,g.getPlaylistById)(r);n.value||(n.value=a.title);var i=n.value;i!==a.title&&(a.title=i,(0,p.editSidebarEntry)(r,i),n.setAttribute("value",i),(0,v.postMessageToWorker)({action:"update",playlist:{id:a.id,title:a.title}})),n.setAttribute("readonly","readonly")}}Object.defineProperty(t,"__esModule",{value:!0}),t.importBtn=t.showNotice=t.addImportedPlaylist=void 0;var y=n(2),v=n(5),p=n(8),g=n(1),b=n(6),k=n(16),h=r(k),T=n(22),P=r(T),E=n(21),I=r(E),j="",B=function(){function e(){t.children[0].classList.toggle("hidden"),t.children[1].classList.toggle("hidden")}var t=document.getElementById("js-playlist-import-btn");return{toggle:e}}();document.getElementById("js-file-chooser").addEventListener("change",function(e){var t=e.target;h.addTracks([].concat(a(t.files))),t.value=""}),document.getElementById("js-playlist-import-form").addEventListener("submit",function(e){var t=e.target,n=t.elements["playlist-id"].value.trim();n&&(B.toggle(),s(j,n),t.reset()),e.preventDefault()}),document.getElementById("js-playlist-entries").addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-action"),r=(0,y.getElementByAttr)(t,"data-id");if(r){if("remove"===n)return void(0,b.removePlaylist)(r.attrValue,r.elementRef);var a="";if("save"===n?a="edit":"edit"===n&&(a="save"),a){var i=r.elementRef.querySelector(".playlist-entry-title");m(a,t,i,r.attrValue)}}}),document.getElementById("js-playlist-add-options").addEventListener("click",function(e){var t=e.target,n=(0,y.getElementByAttr)(t,"data-choice");if(n){var r=n.attrValue;return"file"===r||"folder"===r?void f(r):void d(n)}}),window.addEventListener("load",function w(){y.scriptLoader.load("js/libs/sdk.js",I.init),y.scriptLoader.load("https://www.youtube.com/iframe_api"),y.scriptLoader.load("js/libs/metadata-audio-parser.js"),(0,v.initializeWorker)(),window.removeEventListener("load",w)}),t.addImportedPlaylist=u,t.showNotice=l,t.importBtn=B},function(e,t,n){"use strict";function r(){if(!document.getElementById("js-move-to-btn")){var e='\n        <button id="js-move-to-btn" class="btn" data-header-item="move-to" title="Move to">Move to</button>\n    ';g.insertAdjacentHTML("beforeend",e)}}function a(){var e=document.getElementById("js-move-to-btn");e&&e.parentElement.removeChild(e)}function i(e){document.getElementById("js-move-to-form").classList.add("visible"),e.target.parentElement.removeChild(e.target),e.stopPropagation()}function o(e){var t,n=Array.from(document.querySelectorAll(".track.selected")),r=n.map(function(e){return Number.parseInt(e.getAttribute("data-index"),10)}),a=(0,p.getPlaylistById)((0,f.getActiveTabId)()),i=(0,p.getPlaylistById)(e),o=[];a.tracks.forEach(function(t){r.includes(t.index)&&!(0,p.findTrack)(e,t.name)&&o.push(t)}),(t=i.tracks).push.apply(t,o),i.tracks=(0,p.resetTrackIndexes)(i.tracks),(0,v.appendToPlaylist)(i,o,!0),(0,y.postMessageToWorker)({action:"put",playlist:i})}function l(e){var t=(0,d.getElementByAttr)(e.target,"data-item");if(t){var n=t.attrValue;o(n),document.getElementById("js-move-to-list").removeEventListener("click",l),(0,m.removePresentPanels)()}}function s(e){var t=e.target,n=(0,p.createPlaylist)({id:Math.random().toString(36).slice(2),title:t.title.value,type:"list"});(0,v.initPlaylist)(n),(0,y.postMessageToWorker)({action:"put",playlist:n}),document.getElementById("js-move-to-list").innerHTML=c((0,f.getActiveTabId)()),e.preventDefault(),t.reset()}function c(e){var t=(0,p.getAllPlaylists)();return Object.keys(t).filter(function(t){return t!==e}).map(function(e){var n=t[e];return'\n            <li class="move-to-list-item" data-item="'+n.id+'">\n                <button class="btn">'+n.title+"</button>\n            </li>\n        "}).join("")}function u(e,t){var n=t.id,r='\n        <div id="'+e+'" class="move-to-panel">\n            <h2 class="move-to-panel-title">Move to</h2>\n            <ul id="js-move-to-list" class="move-to-list">'+c(n)+'</ul>\n            <button id="js-move-to-new-pl-btn" class="btn move-to-new-pl-btn">Create new playlist</button>\n            <form id="js-move-to-form" class="move-to-form">\n                <input type="text" class="input" name="title" autocomplete="off" required>\n                <button class="btn">Create</button>\n            </form>\n        </div>\n    ';g.insertAdjacentHTML("beforeend",r),document.getElementById("js-move-to-list").addEventListener("click",l),document.getElementById("js-move-to-new-pl-btn").addEventListener("click",i,{once:!0}),document.getElementById("js-move-to-form").addEventListener("submit",s,{once:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.createMoveToPanel=t.hideMoveToBtn=t.showMoveToBtn=void 0;var d=n(2),f=n(4),m=n(9),y=n(5),v=n(6),p=n(1),g=document.getElementById("js-move-to-panel-container");t.showMoveToBtn=r,t.hideMoveToBtn=a,t.createMoveToPanel=u},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=document.getElementById("js-order-toggle");1===e?(t.classList.remove("icon-up-big"),t.classList.add("icon-down-big")):(t.classList.remove("icon-down-big"),t.classList.add("icon-up-big"))}function i(e){var t=e.split(":");return 60*Number.parseInt(t[0],10)+Number.parseInt(t[1],10)}function o(e,t,n){e.sort(function(e,r){var a="duration"===t?i(e[t]):e[t].toLowerCase(),o="duration"===t?i(r[t]):r[t].toLowerCase();return a<o?-1*n:a>o?n:0})}function l(e,t){e.order=e.sortedBy===t&&1===e.order?-1:1,e.sortedBy=t,o(e.tracks,t,e.order)}function s(e,t){var n=document.getElementById("js-filter-input").value;if(l(e,t),(0,h.updatePlaylist)(e),(0,b.postMessageToWorker)({action:"put",playlist:e}),n){var r=document.getElementById("js-"+e.id).children;(0,T.filterTracks)(e.tracks,r,n)}}function c(e){var t=e.sortedBy,n=e.order,i="Sorting";t&&(i=r(t)),P.textContent=i,a(n)}function u(e){return"list"===e?["title","artist","album","duration"]:["name","duration"]}function d(e){P.textContent="Sorting",e.sortedBy="",e.order=0,a()}function f(e,t){return e.map(function(e){var n=e===t?"active":"";return'\n            <li class="playlist-sort-option">\n                <button class="btn btn-transparent '+n+'" data-sort="'+e+'">\n                    '+r(e)+"\n                </button>\n            </li>\n        "}).join("")}function m(e,t){var n=t.type,r=t.sortedBy,a=u(n),i=f(a,r),o='\n        <ul id="'+e+'" class="playlist-sort-panel">'+i+"</ul>\n    ";document.getElementById("js-playlist-sort-panel-container").insertAdjacentHTML("beforeend",o),document.getElementById(e).addEventListener("click",v,{once:!0})}function y(e){s(e,e.sortedBy),a(e.order)}function v(e){var t=e.target,n=(0,k.getPlaylistById)((0,p.getActiveTabId)()),i=t.getAttribute("data-sort");(0,g.removePresentPanels)(),i&&n.sortedBy!==i&&(a(),P.textContent=r(i),s(n,i))}Object.defineProperty(t,"__esModule",{value:!0}),t.resetPlaylistSort=t.changePlaylistOrder=t.sortTracks=t.createSortPanel=t.setSortOptions=void 0;var p=n(4),g=n(9),b=n(5),k=n(1),h=n(6),T=n(7),P=document.getElementById("js-sort-toggle");t.setSortOptions=c,t.createSortPanel=m,t.sortTracks=o,t.changePlaylistOrder=y,t.resetPlaylistSort=d},function(e,t){"use strict";function n(e,t){a.hasOwnProperty(e)&&(a[e]=t,localStorage.setItem("settings",JSON.stringify(a)))}function r(e){return a[e]}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign({repeat:!1,shuffle:!1,volume:.2},JSON.parse(localStorage.getItem("settings"))||{});t.setSetting=n,t.getSetting=r},function(e,t,n){"use strict";function r(e){w&&w.removeEventListener("mousedown",T),w=document.getElementById("js-"+e),w.addEventListener("mousedown",T)}function a(e){var t=document.createElement("li");return B.left=I.x,B.top=I.y,t.setAttribute("id","js-selected-area"),t.setAttribute("class","selected-area"),t.style.top=I.y+"px",t.style.left=I.x+"px",e.appendChild(t),t}function i(){C.parentElement.removeChild(C),C=null}function o(e){var t=A,n=w.scrollTop;return Array.from(e).map(function(e){var r=e.getBoundingClientRect(),a=n+r.top-t.top,i=r.left-t.left,o=i+r.width,l=a+r.height;return{ref:e,top:a,right:o,bottom:l,left:i}})}function l(e,t,n){var r=e.x-t.x,a=e.y-t.y;if(r<0){var i=t.x+r;r*=-1,B.left=i,n.left=i+"px"}else B.left!==t.x&&(B.left=t.x,n.left=t.x+"px");if(a<0){var o=t.y+a;a*=-1,B.top=o,n.top=o+"px"}else B.top!==t.y&&(B.top=t.y,n.top=t.y+"px");B.right=B.left+r,B.bottom=B.top+a,n.width=r+"px",n.height=a+"px"}function s(e){e&&(_=!0,(0,E.showMoveToBtn)())}function c(e){!_&&(0,P.isOutsideElement)(e,"js-tab-header")&&((0,P.removeElementClass)("track","selected"),(0,E.hideMoveToBtn)()),_=!1}function u(e,t){var n=(0,P.getElementByAttr)(e,"data-index");n&&(t||(0,P.removeElementClass)("track","selected"),n.elementRef.classList.toggle("selected"),s(n.elementRef.classList.contains("selected")))}function d(e,t,n){e.forEach(function(e){var r=e.ref.classList;t.right>e.left&&t.left<e.right&&t.bottom>e.top&&t.top<e.bottom?(n&&!e.selected&&r.contains("selected")&&(r.remove("selected"),e.removed=!0),e.removed||(r.add("selected"),e.selected=!0)):e.selected?(r.remove("selected"),e.selected=!1):e.removed&&(r.add("selected"),e.removed=!1)})}function f(e,t){return e>t?t:e<0?0:e}function m(e,t){return e.x>t.x+2||e.x<t.x-2&&e.y>t.y+2||e.y<t.y-2}function y(){clearInterval(S),S=0}function v(){requestAnimationFrame(i),O=!1,B={},x.length=0}function p(e){M=!0,requestAnimationFrame(function(){l(j,I,C.style),d(x,B,e),M=!1})}function g(e){w.scrollTop+=36,j.y=w.scrollTop+A.height,j.y>=L&&(j.y=L,y()),M||p(e)}function b(e){w.scrollTop-=36,j.y=w.scrollTop,j.y<=0&&(j.y=0,y()),M||p(e)}function k(e){var t=e.clientY-A.top;return j.x=f(e.clientX-A.left,A.width-10),j.y=f(w.scrollTop+t,L),O?!S&&t>A.height&&j.y<L?void(S=setInterval(function(){g(e.ctrlKey)},40)):!S&&t<0&&j.y>0?void(S=setInterval(function(){b(e.ctrlKey)},40)):(M||p(e.ctrlKey),void(S&&t>0&&t<A.height&&y())):(O=m(j,I),void(O&&!C&&(x=o(w.children),C=a(w),e.ctrlKey||x.forEach(function(e){return e.ref.classList.remove("selected")}))))}function h(e){var t=e.target,n=e.ctrlKey;S&&y(),O?(v(),s(document.querySelectorAll(".track.selected").length)):u(t,n),window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",h)}function T(e){1===e.which&&(A=w.getBoundingClientRect(),I.x=e.clientX-A.left,I.y=w.scrollTop+e.clientY-A.top,L=w.scrollHeight,e.preventDefault(),window.addEventListener("mousemove",k),window.addEventListener("mouseup",h))}Object.defineProperty(t,"__esModule",{value:!0}),t.deselectTrackElements=t.enableTrackSelection=void 0;var P=n(2),E=n(11),I={},j={},B={},w=null,A=null,x=[],L=0,C=null,O=!1,S=0,M=!1,_=!1;t.enableTrackSelection=r,t.deselectTrackElements=c},function(e,t,n){"use strict";function r(e){return u.some(function(t){return t===e})}function a(e){return window.location.hash.includes(e)}function i(e){r(e)||u.push(e)}function o(e){window.location.hash="/"+e}function l(e){if(!e)return void o("add");if("404"!==e&&!r(e))return void o("404");var t=e.startsWith("playlist/"),n=t?e.split("playlist/")[1]:e;(0,c.toggleTab)(n,t,"404"===n)}function s(){var e=window.location.hash.slice(2);l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=t.toggleCurrent=t.toggle=t.add=void 0;var c=n(4),u=["add","404"];window.addEventListener("hashchange",function(e){var t=e.newURL.split("#/")[1];l(t)}),t.add=i,t.toggle=o,t.toggleCurrent=s,t.isActive=a},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e);
}function a(){return(0,v.getPlaylistById)("local-files")||(0,v.createPlaylist)({id:"local-files",title:"Local files",type:"list"})}function i(e){return new Promise(function(t){var n=URL.createObjectURL(e),r=new Audio(n);r.preload="metadata",r.addEventListener("loadedmetadata",function a(){var e=(0,m.formatTime)(r.duration);r.removeEventListener("loadedmetadata",a),r=null,n=URL.revokeObjectURL(n),t(e)})})}function o(e){return e.slice(0,e.lastIndexOf("."))}function l(e){var t=new Audio;return e.filter(function(e){return t.canPlayType(e.type)})}function s(e,t){return e.reduce(function(e,n){var r=o(n.name.trim()),a=t.some(function(e){return e.name===r});return a||e.push({audioTrack:n,name:r}),e},[])}function c(e){return new Promise(function(t){parse_audio_metadata(e,function(e){t(e)})})}function u(e,t,n){return Promise.all([c(e[0].audioTrack),i(e[0].audioTrack)]).then(function(r){return t.push({index:n+t.length,title:r[0].title.trim(),artist:r[0].artist?r[0].artist.trim():"",album:r[0].album?r[0].album.trim():"",name:e[0].name,thumbnail:r[0].picture||"assets/images/album-art-placeholder.png",audioTrack:e[0].audioTrack,duration:r[1],player:"native"}),e.splice(0,1),b.setAttrValue("value",t.length),e.length?u(e,t,n):t})}function d(e,t){b.setAttrValue("max",t.length),b.toggle(),u(t,[],e.tracks.length).then(function(t){var n;b.toggle(),(n=e.tracks).push.apply(n,r(t)),document.getElementById("js-"+e.id)?(0,p.appendToPlaylist)(e,t,!0):(0,p.initPlaylist)(e,!0),(0,y.postMessageToWorker)({action:"put",playlist:e})})["catch"](function(e){console.log(e)})}function f(e){var t=l(e);if(!t.length)return void(0,g.showNotice)("No valid audio files found");var n=a(),r=s(t,n.tracks);return r.length?void d(n,r):void(0,g.showNotice)("Tracks already exist")}Object.defineProperty(t,"__esModule",{value:!0}),t.addTracks=void 0;var m=n(2),y=n(5),v=n(1),p=n(6),g=n(10),b=function(){function e(e,t){n.setAttribute(e,t)}function t(){n.classList.toggle("visible"),document.getElementById("js-local-notice").classList.toggle("visible")}var n=document.getElementById("js-file-progress");return{toggle:t,setAttrValue:e}}();t.addTracks=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){var t=document.getElementById("js-player-play"),n="",r="";"icon-play"===e?(n="icon-pause",r="Play"):"icon-pause"===e&&(n="icon-play",r="Pause"),t.classList.remove(n),t.classList.add(e),t.setAttribute("title",r)}function i(e){var t=e?"icon-play":"icon-pause";a(t)}function o(e,t){var n=document.getElementById("js-player-"+e+"-slider"),r=n.getBoundingClientRect(),a=r.left,i=r.width,o=(t-a)/i;return o<0?o=0:o>1&&(o=1),100*o}function l(){P.stop(),d(0),u("track",0)}function s(e){var t=o("volume",e.screenX),n=t/100,r=(0,h.getCurrentTrack)();u("volume",t),p.setSetting("volume",n),r&&b.setVolume(r,n)}function c(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",c)}function u(e,t){document.getElementById("js-player-"+e+"-elapsed").style.width=t+"%"}function d(e){document.getElementById("js-player-elapsed").textContent=(0,k.formatTime)(e)}function f(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=document.getElementById("js-player-duration");n.textContent=t?(0,k.formatTime)(e):e}function m(e){u("track",o("track",e.screenX))}function y(e){var t=e.screenX,n=(0,h.getCurrentTrack)();n&&b.seekTo(n,o("track",t)),T=!1,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y)}Object.defineProperty(t,"__esModule",{value:!0}),t.resetTrackSlider=t.showTrackDuration=t.setElapsedTime=t.setSliderElementWidth=t.addClassOnPlayBtn=t.togglePlayBtnClass=t.elapsedTime=void 0;var v=n(13),p=r(v),g=n(3),b=r(g),k=n(2),h=n(1),T=!1,P=function(){function e(){a&&clearTimeout(a)}function t(e,n,r,i){var o=performance.now()-n,l=o-r;if(d(e.currentTime),!T){var s=e.currentTime/e.duration*100;u("track",s),b.storedTrack.updateSavedTrack({elapsed:s,currentTime:e.currentTime})}a=setTimeout(function(){e.currentTime<e.duration?(e.currentTime+=1,r+=1e3,t(e,n,r,i)):i()},1e3-l)}function n(e,n){var r=performance.now();t(e,r,0,n)}function r(t,r){e(),n(t,r)}var a=0;return{stop:e,start:r}}();document.getElementById("js-player-track-slider").addEventListener("mousedown",function(e){1===e.which&&(0,h.getCurrentTrack)()&&(T=!0,u("track",o("track",e.screenX)),document.addEventListener("mousemove",m),document.addEventListener("mouseup",y))}),document.getElementById("js-player-volume-slider").addEventListener("mousedown",function(e){1===e.which&&(s(e),document.addEventListener("mousemove",s),document.addEventListener("mouseup",c))}),document.getElementById("js-player-controls").addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-control-item"),r=(0,h.getCurrentTrack)();switch(n){case"previous":b.playNextTrack(r,-1);break;case"play":b.playTrack(r);break;case"stop":b.stopPlayer(r),b.storedTrack.remove();break;case"next":b.playNextTrack(r,1);break;case"repeat":case"shuffle":t.classList.toggle("active"),b[n](t.classList.contains("active"))}}),window.addEventListener("DOMContentLoaded",function E(){var e=p.getSetting("repeat"),t=p.getSetting("shuffle"),n=p.getSetting("volume");e&&document.querySelector('[data-control-item="repeat"]').classList.add("active"),t&&document.querySelector('[data-control-item="shuffle"]').classList.add("active"),u("volume",100*n),window.removeEventListener("DOMContentLoaded",E)}),t.elapsedTime=P,t.togglePlayBtnClass=i,t.addClassOnPlayBtn=a,t.setSliderElementWidth=u,t.setElapsedTime=d,t.showTrackDuration=f,t.resetTrackSlider=l},function(e,t,n){"use strict";function r(e,t,n){return e.audioBlobURL=URL.createObjectURL(e.audioTrack),e.audio=new Audio(e.audioBlobURL),e.audio.volume=t,(0,s.setCurrentTrack)(e),e.audio.onplaying=function(){(0,c.onTrackStart)({currentTime:Math.floor(e.audio.currentTime),duration:Math.floor(e.audio.duration)},e.audio.play.bind(e.audio))},"number"==typeof n?void(e.audio.currentTime=n):void(e.audio.oncanplay=function(){e.audio.play()})}function a(e){var t=e.audio;return{play:t.play.bind(t),pause:t.pause.bind(t)}}function i(e){URL.revokeObjectURL(e.audioBlobURL),e.audio.load(),e.audio.oncanplay=null,e.audio.onplaying=null,e.audio.onended=null,delete e.audioBlobURL,delete e.audio}function o(e,t){e.audio.volume=t}function l(e,t){e.audio.currentTime=e.audio.duration/100*t}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.setElapsed=t.getPlayPauseCallbacks=t.stopTrack=t.playTrack=void 0;var s=n(1),c=n(3);t.playTrack=r,t.stopTrack=i,t.getPlayPauseCallbacks=a,t.setElapsed=l,t.setVolume=o},function(e,t,n){"use strict";function r(){d.seek(0),d.play()}function a(e,t,n){(0,c.setCurrentTrack)(e),SC.stream("/tracks/"+e.id).then(function(e){d=e,e.setVolume(t),e.on("play-resume",function(){(0,u.onTrackStart)({currentTime:Math.floor(e.currentTime()/1e3),duration:Math.floor(e.streamInfo.duration/1e3)},r)}),e.on("state-change",function(t){"number"==typeof n&&("loading"===t?(e.seek(1e3*n),e.pause()):"seeking"===t&&(n=null))}),e.play()})["catch"](function(e){console.log(e)})}function i(){return{play:d.play.bind(d),pause:d.pause.bind(d)}}function o(){d.seek(0),d.pause()}function l(e){d.setVolume(e)}function s(e){var t=d.streamInfo.duration,n=t/100*e;d.seek(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.setElapsed=t.getPlayPauseCallbacks=t.stopTrack=t.playTrack=void 0;var c=n(1),u=n(3),d=null;t.playTrack=a,t.stopTrack=o,t.getPlayPauseCallbacks=i,t.setElapsed=s,t.setVolume=l},function(e,t,n){"use strict";function r(e){var t=e.data;t===YT.PlayerState.PLAYING&&(0,m.onTrackStart)({currentTime:Math.floor(y.getCurrentTime()),duration:y.getDuration()},y.playVideo.bind(y))}function a(){m.storedTrack.setPlayerAsReady("youtube")}function i(e){console.log(e)}function o(){y=new YT.Player("yt-player",{height:"390",width:"640",videoId:"",events:{onReady:a,onStateChange:r,onError:i}})}function l(){return{play:y.playVideo.bind(y),pause:y.pauseVideo.bind(y)}}function s(e,t,n){u(t),(0,f.setCurrentTrack)(e),"number"==typeof n?y.cueVideoById(e.id,n):y.loadVideoById(e.id)}function c(){y.stopVideo()}function u(e){y.setVolume(100*e)}function d(e){var t=y.getDuration(),n=t/100*e;y.seekTo(n,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.setVolume=t.setElapsed=t.getPlayPauseCallbacks=t.stopTrack=t.playTrack=void 0;var f=n(1),m=n(3),y=null;window.onYouTubeIframeAPIReady=o,t.playTrack=s,t.stopTrack=c,t.getPlayPauseCallbacks=l,t.setElapsed=d,t.setVolume=u},function(e,t,n){"use strict";function r(){SC.initialize({client_id:"7d6323d8ecbfb64acb9cf2e5f5ef150c"}),s.storedTrack.setPlayerAsReady("soundcloud")}function a(e){return e.map(function(e,t){return{index:t,duration:(0,o.formatTime)(e.duration/1e3),id:e.id,name:e.title,title:e.title,artist:"",album:"",thumbnail:e.artwork_url||"assets/images/album-art-placeholder.png",player:"soundcloud"}})}function i(e){SC.resolve(e).then(function(e){var t={type:"grid"};return Array.isArray(e)?Object.assign(t,{id:e[0].user_id,title:e[0].user.username+" playlist",tracks:a(e)}):Object.assign(t,{id:e.id,title:e.title,tracks:a(e.tracks)})}).then(l.addImportedPlaylist)["catch"](function(e){console.log(e),404===e.status&&((0,l.showNotice)("Playlist was not found"),l.importBtn.toggle())})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPlaylist=t.init=void 0;var o=n(2),l=n(10),s=n(3);t.init=r,t.fetchPlaylist=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return e.tracks=e.tracks.map(function(e,t){return{index:t,id:e.snippet.resourceId.videoId,duration:e.snippet.duration,name:e.snippet.title,title:e.snippet.title,artist:"",album:"",thumbnail:e.snippet.thumbnails["default"].url,player:"youtube"}}),delete e.token,e}function i(e){return e.replace(/[H,M]/g,":").split(":").map(function(e,t){return 0!==t&&e<10&&(e="0"+e),e}).join(":")}function o(e){var t=e.items.map(function(e){return e.snippet.resourceId.videoId}).join();return l("videos","contentDetails","id",t).then(function(t){return e.items=e.items.map(function(e,n){var r=t.items[n].contentDetails.duration.slice(2,-1);return e.snippet.duration=i(r),e}),e})}function l(e,t,n,r,a){var i="AIzaSyD33Rxm4dA34Mh84oSxYTUUF_jyCLLOua4",o="part="+t+"&"+n+"="+r+"&maxResults=50&key="+i;return a&&(o+="&pageToken="+a),fetch("https://www.googleapis.com/youtube/v3/"+e+"?"+o).then(function(e){return e.json()})["catch"](function(e){console.log(e)})}function s(e){return e.items=e.items.filter(function(e){var t=e.snippet.title;return"Deleted video"!==t&&"Private video"!==t}),e}function c(e){return l("playlistItems","snippet","playlistId",e.id,e.token).then(s).then(o).then(function(t){var n;return e.token=t.nextPageToken,(n=e.tracks).push.apply(n,r(t.items)),e.token?c(e):e})}function u(e){return e.items.length?{id:e.items[0].id,title:e.items[0].snippet.title,tracks:[],type:"grid"}:((0,f.showNotice)("Playlist was not found"),void f.importBtn.toggle())}function d(e){if(!e.includes("list="))return(0,f.showNotice)("Invalid url"),void f.importBtn.toggle();var t=e.split("list=")[1];l("playlists","snippet","id",t).then(u).then(c).then(a).then(f.addImportedPlaylist)["catch"](function(e){console.log(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPlaylist=void 0;var f=n(10);t.fetchPlaylist=d}]);