!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=233)}({233:function(t,n){function e(t,n){i.playlists.where("_id").equals(t).modify(n).catch(function(t){})}importScripts("./libs/dexie.min.js");var i=new Dexie("playlists");i.version(1).stores({playlists:"++_id"}),i.playlists.toArray().then(function(t){postMessage({action:"init",payload:t})}).catch(function(t){}),self.onmessage=function(t){var n=t.data,r=n.action,a=n.playlist;"put"===r?i.playlists.put(a).then(function(){postMessage({action:"update",payload:{_id:a._id,id:a.id}})}).catch(function(t){}):"change-sorting"===r?e(a._id,function(t,n){n.value.sortedBy=a.sortedBy,n.value.order=a.order}):"change-title"===r?e(a._id,function(t,n){n.value.title=a.title}):"change-type"===r?e(a._id,function(t,n){n.value.type=a.type}):"change-sync"===r?e(a._id,function(t,n){n.value.syncOnInit=a.syncOnInit}):"update-playlist-duration"===r?e(a._id,function(t,n){n.value.duration=a.duration}):"remove-tracks"===r?e(a._id,function(t,n){n.value.tracks=n.value.tracks.filter(function(t){var n=!0,e=!1,i=void 0;try{for(var r,o=a.tracks[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){if(r.value.name===t.name)return!1}}catch(t){e=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw i}}return!0})}):"remove"===r&&i.playlists.delete(a._id).catch(function(t){})}}});